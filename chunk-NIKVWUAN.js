import{a as it,b as ot}from"./chunk-5CFAMNFM.js";import"./chunk-OC5M4CSB.js";import{Lb as Ge,Ma as Qe,Na as Ze,Nb as te,Ob as He,Pb as F,Q as Ie,Qb as Ye,Rb as Je,Sb as ne,Tb as Xe,Ub as ie,Vb as oe,Wa as Ue,Wb as Ke,Xa as qe,aa as Re,dc as et,ec as tt,fa as Ee,fc as nt,hc as re,ka as Ve,l as De,n as Ae,na as O,o as Fe,oa as A,p as Be,pa as ee,qa as je,r as me,ra as Le,ta as We,va as $e}from"./chunk-TXLPFZIX.js";import{$c as Pe,Cb as z,Dc as V,Ea as ce,Fa as m,Fb as xe,Ga as u,Gb as f,Hb as pe,Ib as Z,K as Ce,Ka as _e,Ma as $,Mc as X,Pa as R,Pb as w,Qc as D,Rb as ye,Sb as U,Tb as q,Ub as r,Vb as a,Wb as C,Xb as G,Yb as H,_b as y,bc as g,ca as ze,dc as c,ea as k,ec as M,fc as T,gd as Se,hb as be,hc as de,hd as ke,ic as Y,jc as P,jd as K,kc as S,la as L,lb as p,lc as v,mb as d,mc as _,n as I,nc as N,nd as Ne,oc as J,qc as ve,rc as we,sb as E,sc as Me,tc as Te,ua as b,uc as x,va as W,wc as Oe,zb as Q}from"./chunk-7MXG77XU.js";var fe=["*"];function gt(i,l){}function Ct(i,l){if(i&1&&(r(0,"span",1),z(1,gt,0,0,"ng-template",2),C(2,"span",3),a()),i&2){let e=c(),t=v(4);f("nzDropdownMenu",e.nzOverlay),p(),f("ngTemplateOutlet",t)}}function zt(i,l){}function _t(i,l){if(i&1&&z(0,zt,0,0,"ng-template",2),i&2){c();let e=v(4);f("ngTemplateOutlet",e)}}function bt(i,l){if(i&1&&(G(0),_(1),H()),i&2){let e=c(2);p(),J(" ",e.nzBreadCrumbComponent.nzSeparator," ")}}function xt(i,l){if(i&1&&(r(0,"nz-breadcrumb-separator"),z(1,bt,2,1,"ng-container",4),a()),i&2){let e=c();p(),f("nzStringTemplateOutlet",e.nzBreadCrumbComponent.nzSeparator)}}function yt(i,l){i&1&&(r(0,"span",5),T(1),a())}var vt=(i,l)=>l.url;function wt(i,l){if(i&1){let e=y();r(0,"nz-breadcrumb-item")(1,"a",0),g("click",function(n){let o=m(e).$implicit,s=c(2);return u(s.navigate(o.url,n))}),_(2),a()()}if(i&2){let e=l.$implicit;p(),xe("href",e.url,be),p(),N(e.label)}}function Mt(i,l){if(i&1&&U(0,wt,3,2,"nz-breadcrumb-item",null,vt),i&2){let e=c();q(e.breadcrumbs)}}var Tt=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=b({type:i,selectors:[["nz-breadcrumb-separator"]],hostAttrs:[1,"ant-breadcrumb-separator"],exportAs:["nzBreadcrumbSeparator"],standalone:!0,features:[x],ngContentSelectors:fe,decls:1,vars:0,template:function(t,n){t&1&&(M(),T(0))},encapsulation:2})}}return i})(),ae=class{},st=(()=>{class i{constructor(e){this.nzBreadCrumbComponent=e}static{this.\u0275fac=function(t){return new(t||i)(d(ae))}}static{this.\u0275cmp=b({type:i,selectors:[["nz-breadcrumb-item"]],inputs:{nzOverlay:"nzOverlay"},exportAs:["nzBreadcrumbItem"],standalone:!0,features:[x],ngContentSelectors:fe,decls:5,vars:2,consts:[["noMenuTpl",""],["nz-dropdown","",1,"ant-breadcrumb-overlay-link",3,"nzDropdownMenu"],[3,"ngTemplateOutlet"],["nz-icon","","nzType","down"],[4,"nzStringTemplateOutlet"],[1,"ant-breadcrumb-link"]],template:function(t,n){t&1&&(M(),z(0,Ct,3,2,"span",1)(1,_t,1,1,null,2)(2,xt,2,1,"nz-breadcrumb-separator")(3,yt,2,0,"ng-template",null,0,V)),t&2&&(w(n.nzOverlay?0:1),p(2),w(n.nzBreadCrumbComponent.nzSeparator?2:-1))},dependencies:[K,Tt,oe,ne,A,O,qe,Ue],encapsulation:2,changeDetection:0})}}return i})(),Ot=(()=>{class i{constructor(e,t,n,o,s){this.injector=e,this.cdr=t,this.elementRef=n,this.renderer=o,this.directionality=s,this.nzAutoGenerate=!1,this.nzSeparator="/",this.nzRouteLabel="breadcrumb",this.nzRouteLabelFn=h=>h,this.nzRouteFn=h=>h,this.breadcrumbs=[],this.dir="ltr",this.destroy$=new I}ngOnInit(){this.nzAutoGenerate&&this.registerRouterChange(),this.directionality.change?.pipe(k(this.destroy$)).subscribe(e=>{this.dir=e,this.prepareComponentForRtl(),this.cdr.detectChanges()}),this.dir=this.directionality.value,this.prepareComponentForRtl()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}navigate(e,t){t.preventDefault(),this.injector.get(me).navigateByUrl(e)}registerRouterChange(){try{let e=this.injector.get(me),t=this.injector.get(Fe);e.events.pipe(Ce(n=>n instanceof Ae),k(this.destroy$),ze(!0)).subscribe(()=>{this.breadcrumbs=this.getBreadcrumbs(t.root),this.cdr.markForCheck()})}catch{throw new Error(`${Ie} You should import RouterModule if you want to use 'NzAutoGenerate'.`)}}getBreadcrumbs(e,t="",n=[]){let o=e.children;if(o.length===0)return n;for(let s of o)if(s.outlet===De){let h=s.snapshot.url.map(B=>B.path).filter(B=>B).join("/"),j=h?`${t}/${h}`:t,ge=this.nzRouteLabelFn(s.snapshot.data[this.nzRouteLabel]),ft=this.nzRouteFn(j);if(h&&ge){let B={label:ge,params:s.snapshot.params,url:ft};n.push(B)}return this.getBreadcrumbs(s,j,n)}return n}prepareComponentForRtl(){this.dir==="rtl"?this.renderer.addClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl"):this.renderer.removeClass(this.elementRef.nativeElement,"ant-breadcrumb-rtl")}static{this.\u0275fac=function(t){return new(t||i)(d(_e),d(X),d(R),d(E),d(ee))}}static{this.\u0275cmp=b({type:i,selectors:[["nz-breadcrumb"]],hostAttrs:[1,"ant-breadcrumb"],inputs:{nzAutoGenerate:[2,"nzAutoGenerate","nzAutoGenerate",D],nzSeparator:"nzSeparator",nzRouteLabel:"nzRouteLabel",nzRouteLabelFn:"nzRouteLabelFn",nzRouteFn:"nzRouteFn"},exportAs:["nzBreadcrumb"],standalone:!0,features:[Te([{provide:ae,useExisting:i}]),Q,x],ngContentSelectors:fe,decls:2,vars:1,consts:[[3,"click"]],template:function(t,n){t&1&&(M(),T(0),z(1,Mt,2,0)),t&2&&(p(),w(n.nzAutoGenerate&&n.breadcrumbs.length?1:-1))},dependencies:[st],encapsulation:2,changeDetection:0})}}return i})(),lt=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=W({type:i})}static{this.\u0275inj=L({imports:[Ot,st]})}}return i})();var se=["*"],Pt=["nz-sider-trigger",""];function St(i,l){}function kt(i,l){if(i&1&&z(0,St,0,0,"ng-template",2),i&2){let e=c(),t=v(5);f("ngTemplateOutlet",e.nzZeroTrigger||t)}}function Nt(i,l){}function Dt(i,l){if(i&1&&z(0,Nt,0,0,"ng-template",2),i&2){let e=c(),t=v(3);f("ngTemplateOutlet",e.nzTrigger||t)}}function At(i,l){if(i&1&&C(0,"span",3),i&2){let e=c(2);f("nzType",e.nzCollapsed?"left":"right")}}function Ft(i,l){if(i&1&&C(0,"span",3),i&2){let e=c(2);f("nzType",e.nzCollapsed?"right":"left")}}function Bt(i,l){if(i&1&&z(0,At,1,1,"span",3)(1,Ft,1,1,"span",3),i&2){let e=c();w(e.nzReverseArrow?0:1)}}function It(i,l){i&1&&C(0,"span",4)}function Rt(i,l){if(i&1){let e=y();r(0,"div",2),g("click",function(){m(e);let n=c();return u(n.setCollapsed(!n.nzCollapsed))}),a()}if(i&2){let e=c();f("matchBreakPoint",e.matchBreakPoint)("nzCollapsedWidth",e.nzCollapsedWidth)("nzCollapsed",e.nzCollapsed)("nzBreakpoint",e.nzBreakpoint)("nzReverseArrow",e.nzReverseArrow)("nzTrigger",e.nzTrigger)("nzZeroTrigger",e.nzZeroTrigger)("siderWidth",e.widthSetting)}}var ct=(()=>{class i{constructor(e,t){this.elementRef=e,this.renderer=t,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-content")}static{this.\u0275fac=function(t){return new(t||i)(d(R),d(E))}}static{this.\u0275cmp=b({type:i,selectors:[["nz-content"]],exportAs:["nzContent"],standalone:!0,features:[x],ngContentSelectors:se,decls:1,vars:0,template:function(t,n){t&1&&(M(),T(0))},encapsulation:2,changeDetection:0})}}return i})();var pt=(()=>{class i{constructor(e,t){this.elementRef=e,this.renderer=t,this.renderer.addClass(this.elementRef.nativeElement,"ant-layout-header")}static{this.\u0275fac=function(t){return new(t||i)(d(R),d(E))}}static{this.\u0275cmp=b({type:i,selectors:[["nz-header"]],exportAs:["nzHeader"],standalone:!0,features:[x],ngContentSelectors:se,decls:1,vars:0,template:function(t,n){t&1&&(M(),T(0))},encapsulation:2,changeDetection:0})}}return i})(),dt=(()=>{class i{constructor(){this.nzCollapsed=!1,this.nzReverseArrow=!1,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.matchBreakPoint=!1,this.nzCollapsedWidth=null,this.siderWidth=null,this.nzBreakpoint=null,this.isZeroTrigger=!1,this.isNormalTrigger=!1}updateTriggerType(){this.isZeroTrigger=this.nzCollapsedWidth===0&&(this.nzBreakpoint&&this.matchBreakPoint||!this.nzBreakpoint),this.isNormalTrigger=this.nzCollapsedWidth!==0}ngOnInit(){this.updateTriggerType()}ngOnChanges(){this.updateTriggerType()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=b({type:i,selectors:[["","nz-sider-trigger",""]],hostVars:10,hostBindings:function(t,n){t&2&&(pe("width",n.isNormalTrigger?n.siderWidth:null),Z("ant-layout-sider-trigger",n.isNormalTrigger)("ant-layout-sider-zero-width-trigger",n.isZeroTrigger)("ant-layout-sider-zero-width-trigger-right",n.isZeroTrigger&&n.nzReverseArrow)("ant-layout-sider-zero-width-trigger-left",n.isZeroTrigger&&!n.nzReverseArrow))},inputs:{nzCollapsed:"nzCollapsed",nzReverseArrow:"nzReverseArrow",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",matchBreakPoint:"matchBreakPoint",nzCollapsedWidth:"nzCollapsedWidth",siderWidth:"siderWidth",nzBreakpoint:"nzBreakpoint"},exportAs:["nzSiderTrigger"],standalone:!0,features:[ce,x],attrs:Pt,decls:6,vars:2,consts:[["defaultTrigger",""],["defaultZeroTrigger",""],[3,"ngTemplateOutlet"],["nz-icon","",3,"nzType"],["nz-icon","","nzType","bars"]],template:function(t,n){t&1&&z(0,kt,1,1,null,2)(1,Dt,1,1,null,2)(2,Bt,2,1,"ng-template",null,0,V)(4,It,1,0,"ng-template",null,1,V),t&2&&(w(n.isZeroTrigger?0:-1),p(),w(n.isNormalTrigger?1:-1))},dependencies:[K,A,O],encapsulation:2,changeDetection:0})}}return i})(),le=(()=>{class i{updateStyleMap(){this.widthSetting=this.nzCollapsed?`${this.nzCollapsedWidth}px`:Re(this.nzWidth),this.flexSetting=`0 0 ${this.widthSetting}`,this.cdr.markForCheck()}updateMenuInlineCollapsed(){this.nzMenuDirective&&this.nzMenuDirective.nzMode==="inline"&&this.nzCollapsedWidth!==0&&this.nzMenuDirective.setInlineCollapsed(this.nzCollapsed)}setCollapsed(e){e!==this.nzCollapsed&&(this.nzCollapsed=e,this.nzCollapsedChange.emit(e),this.updateMenuInlineCollapsed(),this.updateStyleMap(),this.cdr.markForCheck())}constructor(e,t,n){this.platform=e,this.cdr=t,this.breakpointService=n,this.destroy$=new I,this.nzMenuDirective=null,this.nzCollapsedChange=new $,this.nzWidth=200,this.nzTheme="dark",this.nzCollapsedWidth=80,this.nzBreakpoint=null,this.nzZeroTrigger=null,this.nzTrigger=void 0,this.nzReverseArrow=!1,this.nzCollapsible=!1,this.nzCollapsed=!1,this.matchBreakPoint=!1,this.flexSetting=null,this.widthSetting=null}ngOnInit(){this.updateStyleMap(),this.platform.isBrowser&&this.breakpointService.subscribe(Qe,!0).pipe(k(this.destroy$)).subscribe(e=>{let t=this.nzBreakpoint;t&&Ee().subscribe(()=>{this.matchBreakPoint=!e[t],this.setCollapsed(this.matchBreakPoint),this.cdr.markForCheck()})})}ngOnChanges(e){let{nzCollapsed:t,nzCollapsedWidth:n,nzWidth:o}=e;(t||n||o)&&this.updateStyleMap(),t&&this.updateMenuInlineCollapsed()}ngAfterContentInit(){this.updateMenuInlineCollapsed()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(t){return new(t||i)(d(Ve),d(X),d(Ze))}}static{this.\u0275cmp=b({type:i,selectors:[["nz-sider"]],contentQueries:function(t,n,o){if(t&1&&de(o,F,5),t&2){let s;P(s=S())&&(n.nzMenuDirective=s.first)}},hostAttrs:[1,"ant-layout-sider"],hostVars:18,hostBindings:function(t,n){t&2&&(pe("flex",n.flexSetting)("max-width",n.widthSetting)("min-width",n.widthSetting)("width",n.widthSetting),Z("ant-layout-sider-zero-width",n.nzCollapsed&&n.nzCollapsedWidth===0)("ant-layout-sider-light",n.nzTheme==="light")("ant-layout-sider-dark",n.nzTheme==="dark")("ant-layout-sider-collapsed",n.nzCollapsed)("ant-layout-sider-has-trigger",n.nzCollapsible&&n.nzTrigger!==null))},inputs:{nzWidth:"nzWidth",nzTheme:"nzTheme",nzCollapsedWidth:"nzCollapsedWidth",nzBreakpoint:"nzBreakpoint",nzZeroTrigger:"nzZeroTrigger",nzTrigger:"nzTrigger",nzReverseArrow:[2,"nzReverseArrow","nzReverseArrow",D],nzCollapsible:[2,"nzCollapsible","nzCollapsible",D],nzCollapsed:[2,"nzCollapsed","nzCollapsed",D]},outputs:{nzCollapsedChange:"nzCollapsedChange"},exportAs:["nzSider"],standalone:!0,features:[Q,ce,x],ngContentSelectors:se,decls:3,vars:1,consts:[[1,"ant-layout-sider-children"],["nz-sider-trigger","",3,"matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"],["nz-sider-trigger","",3,"click","matchBreakPoint","nzCollapsedWidth","nzCollapsed","nzBreakpoint","nzReverseArrow","nzTrigger","nzZeroTrigger","siderWidth"]],template:function(t,n){t&1&&(M(),r(0,"div",0),T(1),a(),z(2,Rt,1,8,"div",1)),t&2&&(p(2),w(n.nzCollapsible&&n.nzTrigger!==null?2:-1))},dependencies:[dt],encapsulation:2,changeDetection:0})}}return i})(),mt=(()=>{class i{constructor(e){this.directionality=e,this.dir="ltr",this.destroy$=new I}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(k(this.destroy$)).subscribe(e=>{this.dir=e})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static{this.\u0275fac=function(t){return new(t||i)(d(ee))}}static{this.\u0275cmp=b({type:i,selectors:[["nz-layout"]],contentQueries:function(t,n,o){if(t&1&&de(o,le,4),t&2){let s;P(s=S())&&(n.listOfNzSiderComponent=s)}},hostAttrs:[1,"ant-layout"],hostVars:4,hostBindings:function(t,n){t&2&&Z("ant-layout-rtl",n.dir==="rtl")("ant-layout-has-sider",n.listOfNzSiderComponent.length>0)},exportAs:["nzLayout"],standalone:!0,features:[x],ngContentSelectors:se,decls:1,vars:0,template:function(t,n){t&1&&(M(),T(0))},encapsulation:2,changeDetection:0})}}return i})(),ut=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=W({type:i})}static{this.\u0275inj=L({imports:[le,dt]})}}return i})();var jt=["tabsContainer"],Lt=i=>({active:i});function Wt(i,l){if(i&1){let e=y();r(0,"div",8),g("contextmenu",function(n){let o=m(e).$implicit,s=v(5),h=c();return u(h.contextMenu(o.active,n,s))})("click",function(){let n=m(e).$implicit,o=c();return u(o.active(n))}),r(1,"span",9),_(2),a(),r(3,"span",10),g("click",function(n){let o=m(e),s=o.$implicit,h=o.$index,j=c();return u(j.close(h,s,n))}),a()(),r(4,"nz-dropdown-menu",null,1)(6,"ul",11)(7,"li",12),g("click",function(){m(e);let n=c();return u(n.closeAll())}),_(8,"\u5173\u95ED\u6240\u6709"),a(),r(9,"li",12),g("click",function(){m(e);let n=c();return u(n.closeLeft())}),_(10,"\u5173\u95ED\u5DE6\u8FB9"),a(),r(11,"li",12),g("click",function(){m(e);let n=c();return u(n.closeRight())}),_(12,"\u5173\u95ED\u53F3\u8FB9"),a(),r(13,"li",12),g("click",function(){let n=m(e),o=n.$implicit,s=n.$index,h=c();return u(h.reloadCurrentPage(s,o))}),_(14,"\u5237\u65B0\u9875\u9762"),a()()()}if(i&2){let e=l.$implicit;f("ngClass",Oe(2,Lt,e.active)),p(2),N(e.name)}}var he=(()=>{class i{constructor(e,t){this.myApi=e,this.nzContextMenuService=t,this.moveMenu=new $}ngAfterViewInit(){this.subscription=this.myApi.getRouterJumpMessage().subscribe(e=>{this.myApi.tabs.forEach(n=>n.active=!1);let t=this.myApi.tabs.find(n=>n.code===e);if(t)t.active=!0;else{let n=this.myApi.getMenuByPath(e);n&&this.myApi.tabs.push({menuCode:n.id,code:n.path,name:n.name,active:!0})}})}close(e,t,n){if(n.stopPropagation(),t.code==="home"){this.myApi.warning("\u9996\u9875\u4E0D\u80FD\u5173\u95ED");return}if(this.myApi.tabs.splice(e,1),t.active){let o=Math.max(e-1,0);this.myApi.tabs[o].active=!0,this.moveMenu.emit(this.myApi.tabs[o])}}add(e){this.myApi.tabs.forEach(n=>n.active=!1);let t=this.myApi.tabs.find(n=>n.code===e.code);if(t){t.active=!0;return}e.active=!0,this.myApi.tabs.push(e)}active(e){this.myApi.tabs.forEach(t=>t.active=!1),e.active=!0,this.moveMenu.emit(e)}left(){}contextMenu(e,t,n){t.preventDefault(),this.nzContextMenuService.create(t,n)}closeAll(){let e=this.myApi.tabs.find(t=>t.code==="home");this.myApi.tabs=e?[e]:[],e&&(e.active=!0,this.moveMenu.emit(e))}closeLeft(){let e=this.myApi.tabs.findIndex(t=>t.active);e<=1||(this.myApi.tabs=this.myApi.tabs.filter((t,n)=>n>=e||t.code==="home"),this.myApi.tabs.some(t=>t.active)||(this.myApi.tabs[0].active=!0,this.moveMenu.emit(this.myApi.tabs[0])))}closeRight(){let e=this.myApi.tabs.findIndex(t=>t.active);e<0||(this.myApi.tabs=this.myApi.tabs.filter((t,n)=>n<=e||t.code==="home"),this.myApi.tabs.some(t=>t.active)||(this.myApi.tabs[0].active=!0,this.moveMenu.emit(this.myApi.tabs[0])))}reloadCurrentPage(e,t){this.myApi.shouldReuse=!1,this.myApi.tabs.splice(e,1),this.myApi.navigateReload(t.code),setTimeout(()=>{this.myApi.shouldReuse=!0,this.myApi.tabs.splice(e,0,t)},200)}scrollTabs(e){this.tabsContainer.nativeElement.scrollBy({left:e,behavior:"smooth"})}static{this.\u0275fac=function(t){return new(t||i)(d(re),d(Ke))}}static{this.\u0275cmp=b({type:i,selectors:[["app-tabs"]],viewQuery:function(t,n){if(t&1&&Y(jt,5),t&2){let o;P(o=S())&&(n.tabsContainer=o.first)}},outputs:{moveMenu:"moveMenu"},standalone:!0,features:[x],decls:9,vars:0,consts:[["tabsContainer",""],["menu","nzDropdownMenu"],[1,"body"],[1,"tab-scroll-button","left",3,"click"],["nz-icon","","nzType","left","nzTheme","outline"],[1,"tabs-container"],[1,"tab-scroll-button","right",3,"click"],["nz-icon","","nzType","right","nzTheme","outline"],[1,"tab-item",3,"contextmenu","click","ngClass"],[1,"body-item-text"],["nz-icon","","nzType","close",1,"body-item-close",3,"click"],["nz-menu","",1,"custom-dropdown-menu"],["nz-menu-item","",1,"custom-dropdown-item",3,"click"]],template:function(t,n){if(t&1){let o=y();r(0,"div",2)(1,"div",3),g("click",function(){return m(o),u(n.scrollTabs(-100))}),C(2,"span",4),a(),r(3,"div",5,0),U(5,Wt,15,4,null,null,ye),a(),r(7,"div",6),g("click",function(){return m(o),u(n.scrollTabs(100))}),C(8,"span",7),a()()}t&2&&(p(5),q(n.myApi.tabs))},dependencies:[Se,O,ie,F,te],styles:['.body[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;overflow:hidden;background:linear-gradient(90deg,#f0f2f5,#f5f7fa);padding:2px 4px;border-radius:6px;box-shadow:0 1px 4px #0000000d;height:36px}.tabs-container[_ngcontent-%COMP%]{margin-left:2px;margin-right:2px;display:flex;flex-grow:1;overflow-x:auto;scroll-behavior:smooth;scrollbar-width:none}.tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.tab-item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;cursor:pointer;color:#666;font-size:13px;margin-right:4px;background-color:#fafafa;white-space:nowrap;transition:all .3s cubic-bezier(.645,.045,.355,1);border-radius:4px;padding:6px 12px;height:28px;box-shadow:0 1px 2px #00000008;position:relative;-webkit-user-select:none;user-select:none}.tab-item[_ngcontent-%COMP%]:hover{color:#1890ff;background-color:#e6f7ff;transform:translateY(-1px);box-shadow:0 2px 6px #0000001a}.tab-item[_ngcontent-%COMP%]:hover   .body-item-close[_ngcontent-%COMP%]{opacity:1}.tab-item.active[_ngcontent-%COMP%]{color:#1890ff;background-color:#e6f7ff;font-weight:500;box-shadow:0 2px 6px #0000001a;z-index:2}.tab-item.active[_ngcontent-%COMP%]   .body-item-close[_ngcontent-%COMP%]{opacity:1}.tab-scroll-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:28px;height:28px;cursor:pointer;color:#666;font-size:14px;-webkit-user-select:none;user-select:none;transition:all .3s ease;border-radius:4px;background-color:#fafafa;box-shadow:0 1px 2px #00000008;flex-shrink:0}.tab-scroll-button[_ngcontent-%COMP%]:hover{color:#1890ff;background-color:#e6f7ff;box-shadow:0 2px 6px #0000001a}.body-item-close[_ngcontent-%COMP%]{margin-left:6px;font-size:12px;color:#999;transition:all .3s ease;width:16px;height:16px;display:flex;align-items:center;justify-content:center;border-radius:50%;opacity:0}.body-item-close[_ngcontent-%COMP%]:hover{color:#ff4d4f;background-color:#ff4d4f1a}.custom-dropdown-menu[_ngcontent-%COMP%]{border-radius:8px;box-shadow:0 6px 16px #0000001f;background:linear-gradient(to bottom,#fff,#fbfbfb);padding:6px 0;min-width:120px;border:1px solid #e8e8e8;backdrop-filter:blur(10px)}.custom-dropdown-menu[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-6px;left:15px;width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-bottom:6px solid #e8e8e8}.custom-dropdown-menu[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-5px;left:16px;width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-bottom:5px solid #ffffff}.custom-dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;padding:8px 16px;color:#333;text-align:left;cursor:pointer;transition:all .2s ease;font-size:13px;position:relative}.custom-dropdown-item[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#f0f7ff,#e6f2ff);color:#1890ff}.custom-dropdown-item[_ngcontent-%COMP%]:hover:before{content:"";position:absolute;left:0;top:0;bottom:0;width:3px;background:#1890ff;border-radius:0 2px 2px 0}.custom-dropdown-item[_ngcontent-%COMP%]:nth-child(1):after{content:"\\2715";margin-left:auto;font-size:14px;opacity:.7}.custom-dropdown-item[_ngcontent-%COMP%]:nth-child(2):after{content:"\\2190";margin-left:auto;font-size:14px;opacity:.7}.custom-dropdown-item[_ngcontent-%COMP%]:nth-child(3):after{content:"\\2192";margin-left:auto;font-size:14px;opacity:.7}.custom-dropdown-item[_ngcontent-%COMP%]:nth-child(4):after{content:"\\21bb";margin-left:auto;font-size:14px;opacity:.7}.custom-dropdown-item[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #f0f0f0}@media (max-width: 768px){.tab-scroll-button[_ngcontent-%COMP%]{width:24px;height:24px;font-size:12px}.tab-item[_ngcontent-%COMP%]{padding:4px 8px;font-size:12px;height:24px}.body-item-close[_ngcontent-%COMP%]{width:14px;height:14px;font-size:10px}}']})}}return i})();function $t(i,l){if(i&1){let e=y();r(0,"li",14),g("click",function(){let n=m(e).$implicit,o=c(2);return u(o.go(n))}),_(1),a()}if(i&2){let e=l.$implicit;p(),N(e.name)}}function Qt(i,l){if(i&1&&(r(0,"li",23)(1,"ul"),z(2,$t,2,1,"li",24),a()()),i&2){let e=l.$implicit;f("nzIcon",e.icon)("nzTitle",e.name),p(2),f("ngForOf",e.children)}}function Zt(i,l){if(i&1&&(G(0),r(1,"p"),_(2,"\u8BF7\u5728\u624B\u673A\u5546\u5E97\u4E0B\u8F7D \u201CMicrosoft Authenticator\u201D \u5E94\u7528\uFF0C\u626B\u63CF\u4E8C\u7EF4\u7801\u8FDB\u884C\u4E8C\u6B21\u8BA4\u8BC1"),a(),C(3,"nz-qrcode",25),H()),i&2){let e=c();p(3),f("nzValue",e.qrcode)}}var ti=(()=>{class i{constructor(e,t,n){this.userService=e,this.myApi=t,this.location=n,this.isVisible=!1,this.totpsecret="",this.qrcode=""}ngOnInit(){this.cleanUrl(),this.myApi.get("auth/menus?type=1").then(e=>{e.code==200&&(this.myApi.menus=e.data)}),this.myApi.get("user/self").then(e=>{e.code==200&&(this.userService.nickName=e.data.nickName,this.userService.userId=e.data.id,this.userService.code=e.data.code,e.data.totpsecret||(this.isVisible=!0,this.getQrcode()))})}getQrcode(){this.myApi.get("/user/qr").then(e=>{if(e.code==200){this.qrcode=e.data;let n=new URL(this.qrcode).searchParams.get("secret");this.totpsecret=n}})}logOut(){this.userService.clear(),this.myApi.navigate("/login"),this.myApi.cleanTabs()}go(e){this.myApi.navigate(e.path),this.tabs.add({menuCode:e.id,code:e.path,name:e.name})}moveMenu(e){this.myApi.navigate(e.code)}clearCache(){let e=new URL(window.location.href);e.searchParams.set("t",new Date().getTime().toString()),window.location.replace(e.toString())}cleanUrl(){let e=this.location.path(!0),t=new URL(e,window.location.origin);if(t.searchParams.has("t")){t.searchParams.delete("t");let n=t.pathname+t.search;this.location.replaceState(n)}}bindQrcode(){this.myApi.put("/user/qr?secret="+this.totpsecret).then(e=>{e.code==200&&(this.isVisible=!1,this.myApi.success("\u7ED1\u5B9A\u6210\u529F"))})}static{this.\u0275fac=function(t){return new(t||i)(d(Ge),d(re),d(Pe))}}static{this.\u0275cmp=b({type:i,selectors:[["app-layout"]],viewQuery:function(t,n){if(t&1&&Y(he,5),t&2){let o;P(o=S())&&(n.tabs=o.first)}},standalone:!0,features:[x],decls:35,vars:5,consts:[["userMenu","nzDropdownMenu"],["tabs",""],[1,"header-left"],["nz-icon","","nzType","code-sandbox","nzTheme","outline",1,"logo"],[1,"title"],[1,"user-info"],["nz-button","","nzType","default","nzSize","small","type","button","nz-tooltip","","nzTooltipTitle","\u6E05\u7A7A\u7F13\u5B58",1,"header-btn",3,"click"],["nz-icon","","nzType","sync","nzTheme","outline"],[1,"user-actions"],["nz-button","","nzType","default","nzShape","circle","nzSize","small","nz-dropdown","","nzPlacement","bottomRight",3,"nzDropdownMenu"],["nz-icon","","nzType","user","nzTheme","outline"],["nz-menu",""],["nz-menu-item",""],["nz-menu-divider",""],["nz-menu-item","",3,"click"],["nz-icon","","nzType","logout","nzTheme","outline"],["nzTheme","light",3,"nzWidth"],["nz-menu","","nzMode","inline",1,"sider-menu"],["nz-submenu","",3,"nzIcon","nzTitle",4,"ngFor","ngForOf"],[3,"moveMenu"],[1,"inner-layout"],["nzTitle","\u5F00\u542F\u4E8C\u6B21\u8BA4\u8BC1","nzOkText","\u5DF2\u7ED1\u5B9A",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible"],[4,"nzModalContent"],["nz-submenu","",3,"nzIcon","nzTitle"],["nz-menu-item","",3,"click",4,"ngFor","ngForOf"],[3,"nzValue"]],template:function(t,n){if(t&1){let o=y();r(0,"nz-layout")(1,"nz-header")(2,"div",2),C(3,"span",3),r(4,"div",4),_(5,"\u4E07\u7269\u751F\u4F4E\u4EE3\u7801\u5E73\u53F0"),a()(),r(6,"div",5)(7,"button",6),g("click",function(){return m(o),u(n.clearCache())}),C(8,"span",7),a(),r(9,"div",8)(10,"button",9),C(11,"span",10),a(),r(12,"nz-dropdown-menu",null,0)(14,"ul",11)(15,"li",12),C(16,"span",10),r(17,"span"),_(18),a()(),C(19,"li",13),r(20,"li",14),g("click",function(){return m(o),u(n.logOut())}),C(21,"span",15),r(22,"span"),_(23,"\u9000\u51FA\u767B\u5F55"),a()()()()()()(),r(24,"nz-layout")(25,"nz-sider",16)(26,"ul",17),z(27,Qt,3,3,"li",18),a()(),r(28,"nz-layout")(29,"app-tabs",19,1),g("moveMenu",function(h){return m(o),u(n.moveMenu(h))}),a(),r(31,"nz-content",20),C(32,"router-outlet"),a()()()(),r(33,"nz-modal",21),Me("nzVisibleChange",function(h){return m(o),we(n.isVisible,h)||(n.isVisible=h),u(h)}),g("nzOnCancel",function(){return m(o),u(n.isVisible=!1)})("nzOnOk",function(){return m(o),u(n.bindQrcode())}),z(34,Zt,4,1,"ng-container",22),a()}if(t&2){let o=v(13);p(10),f("nzDropdownMenu",o),p(8),J("\u6B22\u8FCE\u60A8\uFF0C",n.userService.nickName,""),p(7),f("nzWidth",200),p(2),f("ngForOf",n.myApi.menus),p(6),ve("nzVisible",n.isVisible)}},dependencies:[lt,A,O,Je,F,te,He,Ye,ut,mt,pt,ct,le,Be,Ne,ke,oe,ne,ie,Xe,he,$e,We,je,Le,nt,tt,et,ot,it],styles:['.logo[_ngcontent-%COMP%]{font-size:32px;margin:0 16px 0 0;color:#fff;text-shadow:0 0 8px rgba(0,0,0,.3);animation:_ngcontent-%COMP%_logo-rotate 10s linear infinite}@keyframes _ngcontent-%COMP%_logo-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.sider-menu[_ngcontent-%COMP%]{height:calc(100vh - 64px);border-right:solid 1px lightgrey}.inner-layout[_ngcontent-%COMP%]{position:relative;padding:0 10px 4px;height:calc(100vh - 109.14px)}nz-breadcrumb[_ngcontent-%COMP%]{margin:16px 0}nz-content[_ngcontent-%COMP%]{background:#fff;padding:0;min-height:280px}nz-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);transition:unset;display:flex;align-items:center;padding:0 24px;box-shadow:0 4px 12px #00000026;position:relative;height:64px;border-bottom:1px solid rgba(255,255,255,.2)}nz-header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent)}nz-header[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:0;width:100%;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent)}nz-header[_ngcontent-%COMP%]   .header-left[_ngcontent-%COMP%]{display:flex;align-items:center}nz-header[_ngcontent-%COMP%]   .header-center[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center}nz-header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:24px;font-weight:700;text-shadow:0 2px 4px rgba(0,0,0,.2);letter-spacing:1px;background:linear-gradient(to right,#fff,#f0f0f0);-webkit-background-clip:text;-webkit-text-fill-color:transparent}nz-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{font-size:16px;display:flex;align-items:center;justify-content:flex-end;color:#fff;gap:24px;height:100%}nz-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{white-space:nowrap;display:flex;align-items:center;gap:8px}nz-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .header-btn[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:8px;padding:6px 12px;border-radius:18px;background:#ffffff26;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);transition:all .3s ease;height:36px}nz-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .header-btn[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translateY(-2px);box-shadow:0 4px 12px #0003;border-color:#ffffff4d}nz-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .header-btn[_ngcontent-%COMP%]   span[nz-icon][_ngcontent-%COMP%]{font-size:16px}nz-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   button[nz-button][_ngcontent-%COMP%]{border:none;background:#ffffff26;backdrop-filter:blur(10px);width:36px;height:36px;display:flex;align-items:center;justify-content:center;transition:all .3s ease}nz-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   button[nz-button][_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translateY(-2px);box-shadow:0 4px 12px #0003}nz-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]   button[nz-button][_ngcontent-%COMP%]   span[nz-icon][_ngcontent-%COMP%]{font-size:18px}nz-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]     .ant-dropdown-menu{border-radius:8px;overflow:hidden;box-shadow:0 6px 16px #00000014,0 3px 6px -4px #0000001f,0 9px 28px 8px #0000000d}nz-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]     .ant-dropdown-menu .ant-dropdown-menu-item{display:flex;align-items:center;gap:8px}nz-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]     .ant-dropdown-menu .ant-dropdown-menu-item span[nz-icon]{font-size:16px}nz-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]     .ant-dropdown-menu .ant-dropdown-menu-item:hover{background-color:#f5f5f5}nz-header[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-actions[_ngcontent-%COMP%]     .ant-dropdown-menu .ant-dropdown-menu-item-divider{margin:4px 0}nz-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:0 16px;background:linear-gradient(120deg,#1890ff,#40a9ff);color:#fff;box-shadow:0 2px 8px #00000026;position:relative;height:56px;z-index:10}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.logo[_ngcontent-%COMP%]{font-size:24px;color:#fff}.title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#fff;white-space:nowrap}.header-center[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;padding:0 20px}.header-center[_ngcontent-%COMP%]   .menu-search[_ngcontent-%COMP%]{width:300px;max-width:100%}.user-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.header-btn[_ngcontent-%COMP%]{background:#ffffff26!important;border:none!important;color:#fff!important;transition:all .3s}.header-btn[_ngcontent-%COMP%]:hover{background:#ffffff40!important;transform:translateY(-1px)}.user-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}  .ant-dropdown-menu-item:hover{background-color:#f0f7ff!important}  .ant-dropdown-menu-item .anticon{margin-right:8px}  .ant-dropdown-menu-item span+span{margin-left:0}']})}}return i})();export{ti as LayoutComponent};
