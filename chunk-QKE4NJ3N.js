import{Da as Ce,Gb as Re,Ra as _e,Wa as ge,Xa as ye,Y as de,aa as w,ia as me,ja as O,jb as ve,na as fe,oa as ue,ob as $,pa as ze,pb as we,qb as S,rb as Oe,sb as xe,tb as be,ub as W,yb as Te}from"./chunk-TXLPFZIX.js";import{Cb as r,Da as G,Dc as le,Ea as J,Fa as k,Ga as A,Gb as l,Hb as D,Ib as M,Ka as x,Lb as oe,Ma as b,Mc as j,Pb as p,Qc as f,Ub as d,Vb as m,Wb as g,Xb as y,Yb as v,Zb as ae,Zc as ce,_b as F,bc as P,d as L,dc as a,ea as z,gb as T,hc as re,ic as V,id as he,jc as N,jd as pe,ka as Z,kc as I,la as Q,lb as o,mb as h,n as C,na as X,ob as R,pa as Y,qa as B,sb as ee,t as _,tb as te,ua as K,uc as se,va as U,wa as q,xb as ne,zb as ie}from"./chunk-7MXG77XU.js";var Fe=["drawerTemplate"];function Pe(t,i){if(t&1){let e=F();d(0,"div",9),P("click",function(){k(e);let s=a(2);return A(s.maskClick())}),m()}if(t&2){let e=a(2);l("@drawerMaskMotion",void 0)("ngStyle",e.nzMaskStyle)}}function Ve(t,i){if(t&1&&(y(0),g(1,"span",17),v()),t&2){let e=i.$implicit;o(),l("nzType",e)}}function je(t,i){if(t&1){let e=F();d(0,"button",15),P("click",function(){k(e);let s=a(3);return A(s.closeClick())}),r(1,Ve,2,1,"ng-container",16),m()}if(t&2){let e=a(3);o(),l("nzStringTemplateOutlet",e.nzCloseIcon)}}function $e(t,i){if(t&1&&(y(0),g(1,"div",18),v()),t&2){let e=a(4);o(),l("innerHTML",e.nzTitle,T)}}function We(t,i){if(t&1&&(d(0,"div",13),r(1,$e,2,1,"ng-container",16),m()),t&2){let e=a(3);o(),l("nzStringTemplateOutlet",e.nzTitle)}}function He(t,i){if(t&1&&(y(0),g(1,"div",18),v()),t&2){let e=a(4);o(),l("innerHTML",e.nzExtra,T)}}function Le(t,i){if(t&1&&(d(0,"div",14),r(1,He,2,1,"ng-container",16),m()),t&2){let e=a(3);o(),l("nzStringTemplateOutlet",e.nzExtra)}}function Ze(t,i){if(t&1&&(d(0,"div",10)(1,"div",11),r(2,je,2,1,"button",12)(3,We,2,1,"div",13),m(),r(4,Le,2,1,"div",14),m()),t&2){let e=a(2);M("ant-drawer-header-close-only",!e.nzTitle),o(2),p(e.nzClosable?2:-1),o(),p(e.nzTitle?3:-1),o(),p(e.nzExtra?4:-1)}}function Qe(t,i){}function Xe(t,i){t&1&&ae(0)}function Ye(t,i){if(t&1&&r(0,Xe,1,0,"ng-container",19),t&2){let e=a(3);l("ngTemplateOutlet",e.nzContent)("ngTemplateOutletContext",e.templateContext)}}function Be(t,i){if(t&1&&r(0,Ye,1,2,"ng-container"),t&2){let e=a(2);p(e.isNzContentTemplateRef?0:-1)}}function Ke(t,i){}function Ue(t,i){if(t&1&&r(0,Ke,0,0,"ng-template",20),t&2){let e=a(3);l("ngTemplateOutlet",e.contentFromContentChild)}}function qe(t,i){if(t&1&&r(0,Ue,1,1,null,20),t&2){let e=a(2);p(e.contentFromContentChild&&(e.isOpen||e.inAnimation)?0:-1)}}function Ge(t,i){if(t&1&&(y(0),g(1,"div",18),v()),t&2){let e=a(3);o(),l("innerHTML",e.nzFooter,T)}}function Je(t,i){if(t&1&&(d(0,"div",8),r(1,Ge,2,1,"ng-container",16),m()),t&2){let e=a(2);o(),l("nzStringTemplateOutlet",e.nzFooter)}}function et(t,i){if(t&1&&(d(0,"div",1),r(1,Pe,1,2,"div",2),d(2,"div")(3,"div",3)(4,"div",4),r(5,Ze,5,5,"div",5),d(6,"div",6),r(7,Qe,0,0,"ng-template",7)(8,Be,1,1)(9,qe,1,1),m(),r(10,Je,2,1,"div",8),m()()()()),t&2){let e=a();D("transform",e.offsetTransform)("transition",e.placementChanging?"none":null)("z-index",e.nzZIndex),M("ant-drawer-rtl",e.dir==="rtl")("ant-drawer-open",e.isOpen)("no-mask",!e.nzMask)("ant-drawer-top",e.nzPlacement==="top")("ant-drawer-bottom",e.nzPlacement==="bottom")("ant-drawer-right",e.nzPlacement==="right")("ant-drawer-left",e.nzPlacement==="left"),l("nzNoAnimation",e.nzNoAnimation),o(),p(e.nzMask&&e.isOpen?1:-1),o(),oe("ant-drawer-content-wrapper ",e.nzWrapClassName,""),D("width",e.width)("height",e.height)("transform",e.transform)("transition",e.placementChanging?"none":null),o(2),D("height",e.isLeftOrRight?"100%":null),o(),p(e.nzTitle||e.nzClosable?5:-1),o(),l("ngStyle",e.nzBodyStyle),o(2),p(e.nzContent?8:9),o(2),p(e.nzFooter?10:-1)}}var tt=(()=>{class t{constructor(e){this.templateRef=e}static{this.\u0275fac=function(n){return new(n||t)(h(R))}}static{this.\u0275dir=q({type:t,selectors:[["","nzDrawerContent",""]],exportAs:["nzDrawerContent"],standalone:!0})}}return t})(),De=378,Ne=736,nt=new X("NZ_DRAWER_DATA"),E=class{},it=300,ot="drawer",Ie=(()=>{class t extends E{set nzVisible(e){this.isOpen=e}get nzVisible(){return this.isOpen}get offsetTransform(){if(!this.isOpen||this.nzOffsetX+this.nzOffsetY===0)return null;switch(this.nzPlacement){case"left":return`translateX(${this.nzOffsetX}px)`;case"right":return`translateX(-${this.nzOffsetX}px)`;case"top":return`translateY(${this.nzOffsetY}px)`;case"bottom":return`translateY(-${this.nzOffsetY}px)`}}get transform(){if(this.isOpen)return null;switch(this.nzPlacement){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)"}}get width(){if(this.isLeftOrRight){let e=this.nzSize==="large"?Ne:De;return this.nzWidth===void 0?w(e):w(this.nzWidth)}return null}get height(){if(!this.isLeftOrRight){let e=this.nzSize==="large"?Ne:De;return this.nzHeight===void 0?w(e):w(this.nzHeight)}return null}get isLeftOrRight(){return this.nzPlacement==="left"||this.nzPlacement==="right"}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}get isNzContentTemplateRef(){return de(this.nzContent)}constructor(e,n,s,c,u,Se,Ee,ke,Ae,Me){super(),this.cdr=e,this.nzConfigService=n,this.renderer=s,this.overlay=c,this.injector=u,this.changeDetectorRef=Se,this.focusTrapFactory=Ee,this.viewContainerRef=ke,this.overlayKeyboardDispatcher=Ae,this.directionality=Me,this._nzModuleName=ot,this.nzCloseIcon="close",this.nzClosable=!0,this.nzMaskClosable=!0,this.nzMask=!0,this.nzCloseOnNavigation=!0,this.nzNoAnimation=!1,this.nzKeyboard=!0,this.nzPlacement="right",this.nzSize="default",this.nzMaskStyle={},this.nzBodyStyle={},this.nzZIndex=1e3,this.nzOffsetX=0,this.nzOffsetY=0,this.componentInstance=null,this.componentRef=null,this.nzOnViewInit=new b,this.nzOnClose=new b,this.nzVisibleChange=new b,this.destroy$=new C,this.placementChanging=!1,this.isOpen=!1,this.inAnimation=!1,this.templateContext={$implicit:void 0,drawerRef:this},this.nzAfterOpen=new C,this.nzAfterClose=new C,this.nzDirection=void 0,this.dir="ltr",this.document=B(ce)}ngOnInit(){this.directionality.change?.pipe(z(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.nzDirection||this.directionality.value,this.attachOverlay(),this.updateOverlayStyle(),this.updateBodyOverflow(),this.templateContext={$implicit:this.nzData||this.nzContentParams,drawerRef:this},this.changeDetectorRef.detectChanges()}ngAfterViewInit(){this.attachBodyContent(),this.nzOnViewInit.observers.length&&setTimeout(()=>{this.nzOnViewInit.emit()})}ngOnChanges(e){let{nzPlacement:n,nzVisible:s}=e;s&&(e.nzVisible.currentValue?this.open():this.close()),n&&!n.isFirstChange()&&this.triggerPlacementChangeCycleOnce()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),clearTimeout(this.placementChangeTimeoutId),this.disposeOverlay()}getAnimationDuration(){return this.nzNoAnimation?0:it}triggerPlacementChangeCycleOnce(){this.nzNoAnimation||(this.placementChanging=!0,this.changeDetectorRef.markForCheck(),clearTimeout(this.placementChangeTimeoutId),this.placementChangeTimeoutId=setTimeout(()=>{this.placementChanging=!1,this.changeDetectorRef.markForCheck()},this.getAnimationDuration()))}close(e){this.isOpen=!1,this.inAnimation=!0,this.nzVisibleChange.emit(!1),this.updateOverlayStyle(),this.overlayKeyboardDispatcher.remove(this.overlayRef),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.updateBodyOverflow(),this.restoreFocus(),this.inAnimation=!1,this.nzAfterClose.next(e),this.nzAfterClose.complete(),this.componentInstance=null,this.componentRef=null},this.getAnimationDuration())}open(){this.attachOverlay(),this.isOpen=!0,this.inAnimation=!0,this.nzVisibleChange.emit(!0),this.overlayKeyboardDispatcher.add(this.overlayRef),this.updateOverlayStyle(),this.updateBodyOverflow(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.inAnimation=!1,this.changeDetectorRef.detectChanges(),this.nzAfterOpen.next()},this.getAnimationDuration())}getContentComponent(){return this.componentInstance}getContentComponentRef(){return this.componentRef}closeClick(){this.nzOnClose.emit()}maskClick(){this.nzMaskClosable&&this.nzMask&&this.nzOnClose.emit()}attachBodyContent(){if(this.bodyPortalOutlet.dispose(),this.nzContent instanceof G){let e=x.create({parent:this.injector,providers:[{provide:E,useValue:this},{provide:nt,useValue:this.nzData}]}),n=new $(this.nzContent,null,e);this.componentRef=this.bodyPortalOutlet.attachComponentPortal(n),this.componentInstance=this.componentRef.instance,Object.assign(this.componentRef.instance,this.nzData||this.nzContentParams),this.componentRef.changeDetectorRef.detectChanges()}}attachOverlay(){this.overlayRef||(this.portal=new we(this.drawerTemplate,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig()),Re(this.overlayRef,this.nzZIndex)),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayRef.keydownEvents().pipe(z(this.destroy$)).subscribe(e=>{e.keyCode===27&&this.isOpen&&this.nzKeyboard&&this.nzOnClose.emit()}),this.overlayRef.detachments().pipe(z(this.destroy$)).subscribe(()=>{this.close(),this.disposeOverlay()}))}disposeOverlay(){this.overlayRef?.dispose(),this.overlayRef=null}getOverlayConfig(){return new xe({disposeOnNavigation:this.nzCloseOnNavigation,positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block()})}updateOverlayStyle(){this.overlayRef&&this.overlayRef.overlayElement&&this.renderer.setStyle(this.overlayRef.overlayElement,"pointer-events",this.isOpen?"auto":"none")}updateBodyOverflow(){this.overlayRef&&(this.isOpen?this.overlayRef.getConfig().scrollStrategy.enable():this.overlayRef.getConfig().scrollStrategy.disable())}savePreviouslyFocusedElement(){this.document&&!this.previouslyFocusedElement&&(this.previouslyFocusedElement=this.document.activeElement,this.previouslyFocusedElement&&typeof this.previouslyFocusedElement.blur=="function"&&this.previouslyFocusedElement.blur())}trapFocus(){!this.focusTrap&&this.overlayRef&&this.overlayRef.overlayElement&&(this.focusTrap=this.focusTrapFactory.create(this.overlayRef.overlayElement),this.focusTrap.focusInitialElement())}restoreFocus(){this.previouslyFocusedElement&&typeof this.previouslyFocusedElement.focus=="function"&&this.previouslyFocusedElement.focus(),this.focusTrap&&this.focusTrap.destroy()}static{this.\u0275fac=function(n){return new(n||t)(h(j),h(me),h(ee),h(W),h(x),h(j),h(Ce),h(te),h(be),h(ze))}}static{this.\u0275cmp=K({type:t,selectors:[["nz-drawer"]],contentQueries:function(n,s,c){if(n&1&&re(c,tt,7,R),n&2){let u;N(u=I())&&(s.contentFromContentChild=u.first)}},viewQuery:function(n,s){if(n&1&&(V(Fe,7),V(S,5)),n&2){let c;N(c=I())&&(s.drawerTemplate=c.first),N(c=I())&&(s.bodyPortalOutlet=c.first)}},inputs:{nzContent:"nzContent",nzCloseIcon:"nzCloseIcon",nzClosable:[2,"nzClosable","nzClosable",f],nzMaskClosable:[2,"nzMaskClosable","nzMaskClosable",f],nzMask:[2,"nzMask","nzMask",f],nzCloseOnNavigation:[2,"nzCloseOnNavigation","nzCloseOnNavigation",f],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",f],nzKeyboard:[2,"nzKeyboard","nzKeyboard",f],nzTitle:"nzTitle",nzExtra:"nzExtra",nzFooter:"nzFooter",nzPlacement:"nzPlacement",nzSize:"nzSize",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzWrapClassName:"nzWrapClassName",nzWidth:"nzWidth",nzHeight:"nzHeight",nzZIndex:"nzZIndex",nzOffsetX:"nzOffsetX",nzOffsetY:"nzOffsetY",nzVisible:[2,"nzVisible","nzVisible",f]},outputs:{nzOnViewInit:"nzOnViewInit",nzOnClose:"nzOnClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzDrawer"],standalone:!0,features:[ie,ne,J,se],decls:2,vars:0,consts:[["drawerTemplate",""],[1,"ant-drawer",3,"nzNoAnimation"],[1,"ant-drawer-mask",3,"ngStyle"],[1,"ant-drawer-content"],[1,"ant-drawer-wrapper-body"],[1,"ant-drawer-header",3,"ant-drawer-header-close-only"],["cdkScrollable","",1,"ant-drawer-body",3,"ngStyle"],["cdkPortalOutlet",""],[1,"ant-drawer-footer"],[1,"ant-drawer-mask",3,"click","ngStyle"],[1,"ant-drawer-header"],[1,"ant-drawer-header-title"],["aria-label","Close",1,"ant-drawer-close"],[1,"ant-drawer-title"],[1,"ant-drawer-extra"],["aria-label","Close",1,"ant-drawer-close",3,"click"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"]],template:function(n,s){n&1&&r(0,et,11,39,"ng-template",null,0,le)},dependencies:[Te,he,ye,ge,ue,fe,Oe,S,pe,ve],encapsulation:2,data:{animation:[_e]},changeDetection:0})}}return _([O()],t.prototype,"nzMaskClosable",void 0),_([O()],t.prototype,"nzMask",void 0),_([O()],t.prototype,"nzCloseOnNavigation",void 0),_([O()],t.prototype,"nzDirection",void 0),t})(),H=class{constructor(i,e){this.overlay=i,this.options=e,this.unsubscribe$=new C;let c=this.options,{nzOnCancel:n}=c,s=L(c,["nzOnCancel"]);this.overlayRef=this.overlay.create(),this.drawerRef=this.overlayRef.attach(new $(Ie)).instance,this.updateOptions(s),this.drawerRef.savePreviouslyFocusedElement(),this.drawerRef.nzOnViewInit.pipe(z(this.unsubscribe$)).subscribe(()=>{this.drawerRef.open()}),this.drawerRef.nzOnClose.subscribe(()=>{n?n().then(u=>{u!==!1&&this.drawerRef.close()}):this.drawerRef.close()}),this.drawerRef.afterClose.pipe(z(this.unsubscribe$)).subscribe(()=>{this.overlayRef.dispose(),this.drawerRef=null,this.unsubscribe$.next(),this.unsubscribe$.complete()})}getInstance(){return this.drawerRef}updateOptions(i){Object.assign(this.drawerRef,i)}},at=(()=>{class t{constructor(e){this.overlay=e}create(e){return new H(this.overlay,e).getInstance()}static{this.\u0275fac=function(n){return new(n||t)(Y(W))}}static{this.\u0275prov=Z({token:t,factory:t.\u0275fac})}}return t})(),Vt=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275mod=U({type:t})}static{this.\u0275inj=Q({providers:[at],imports:[Ie]})}}return t})();export{at as a,Vt as b};
