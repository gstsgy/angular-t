import{Qa as Ie,Wa as Ve,Xa as He,ia as Me,ib as Pe,ja as j,lb as G,mb as Ae,na as ae,oa as oe,pa as Oe,w as Le,yb as Q}from"./chunk-TXLPFZIX.js";import{Cb as f,Cc as ye,Dc as be,Ea as E,Fa as u,Fb as q,G as x,Ga as C,Gb as h,Hb as X,Ib as z,Jb as ke,Ma as l,Mc as I,Na as ge,Ob as Ne,Pa as ue,Pb as k,Qb as _e,Qc as o,Rc as Ee,Sb as J,Tb as ee,Ub as N,Vb as _,Wb as S,Xb as K,Yb as R,_b as $,bc as O,dc as c,ea as T,gb as Ce,hc as Te,ic as xe,id as we,ja as pe,jc as te,jd as re,ka as A,kc as ne,la as B,lb as p,lc as ie,mb as m,n as H,na as ze,o as he,qa as M,sb as Se,t as P,tc as ve,ua as v,uc as D,va as F,wc as se,xa as fe,xb as me,xc as U,yc as De,zb as b}from"./chunk-7MXG77XU.js";var Je=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,et=/([^\#-~ |!])/g;function tt(i){return i.replace(/&/g,"&amp;").replace(Je,s=>{let e=s.charCodeAt(0),t=s.charCodeAt(1);return`&#${(e-55296)*1024+(t-56320)+65536};`}).replace(et,s=>`&#${s.charCodeAt(0)};`).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Fe=(()=>{class i{constructor(){this.UNIQUE_WRAPPERS=["##==-open_tag-==##","##==-close_tag-==##"]}transform(e,t,n,r){if(!t)return e;let a=new RegExp(t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$&"),n),d=e.replace(a,`${this.UNIQUE_WRAPPERS[0]}$&${this.UNIQUE_WRAPPERS[1]}`);return tt(d).replace(new RegExp(this.UNIQUE_WRAPPERS[0],"g"),r?`<span class="${r}">`:"<span>").replace(new RegExp(this.UNIQUE_WRAPPERS[1],"g"),"</span>")}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=fe({name:"nzHighlight",type:i,pure:!0,standalone:!0})}}return i})(),Ke=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=F({type:i})}static{this.\u0275inj=B({})}}return i})();var Z=class i{get treeService(){return this.service||this.parentNode&&this.parentNode.treeService}constructor(s,e=null,t=null){if(this._title="",this.level=0,this.parentNode=null,this._icon="",this._children=[],this._isLeaf=!1,this._isChecked=!1,this._isSelectable=!1,this._isDisabled=!1,this._isDisableCheckbox=!1,this._isExpanded=!1,this._isHalfChecked=!1,this._isSelected=!1,this._isLoading=!1,this.canHide=!1,this.isMatched=!1,this.service=null,s instanceof i)return s;this.service=t||null,this.origin=s,this.key=s.key,this.parentNode=e,this._title=s.title||"---",this._icon=s.icon||"",this._isLeaf=s.isLeaf||!1,this._children=[],this._isChecked=s.checked||!1,this._isSelectable=s.disabled||s.selectable!==!1,this._isDisabled=s.disabled||!1,this._isDisableCheckbox=s.disableCheckbox||!1,this._isExpanded=s.isLeaf?!1:s.expanded||!1,this._isHalfChecked=!1,this._isSelected=!s.disabled&&s.selected||!1,this._isLoading=!1,this.isMatched=!1,e?this.level=e.level+1:this.level=0,typeof s.children<"u"&&s.children!==null&&s.children.forEach(n=>{let r=this.treeService;r&&!r.isCheckStrictly&&s.checked&&!s.disabled&&!n.disabled&&!n.disableCheckbox&&(n.checked=s.checked),this._children.push(new i(n,this))})}get title(){return this._title}set title(s){this._title=s,this.update()}get icon(){return this._icon}set icon(s){this._icon=s,this.update()}get children(){return this._children}set children(s){this._children=s,this.update()}get isLeaf(){return this._isLeaf}set isLeaf(s){this._isLeaf=s,this.update()}get isChecked(){return this._isChecked}set isChecked(s){this._isChecked=s,this.origin.checked=s,this.afterValueChange("isChecked")}get isHalfChecked(){return this._isHalfChecked}set isHalfChecked(s){this._isHalfChecked=s,this.afterValueChange("isHalfChecked")}get isSelectable(){return this._isSelectable}set isSelectable(s){this._isSelectable=s,this.update()}get isDisabled(){return this._isDisabled}set isDisabled(s){this._isDisabled=s,this.update()}get isDisableCheckbox(){return this._isDisableCheckbox}set isDisableCheckbox(s){this._isDisableCheckbox=s,this.update()}get isExpanded(){return this._isExpanded}set isExpanded(s){this._isExpanded=s,this.origin.expanded=s,this.afterValueChange("isExpanded"),this.afterValueChange("reRender")}get isSelected(){return this._isSelected}set isSelected(s){this._isSelected=s,this.origin.selected=s,this.afterValueChange("isSelected")}get isLoading(){return this._isLoading}set isLoading(s){this._isLoading=s,this.update()}setSyncChecked(s=!1,e=!1){this.setChecked(s,e),this.treeService&&!this.treeService.isCheckStrictly&&this.treeService.conduct(this)}setChecked(s=!1,e=!1){this.origin.checked=s,this.isChecked=s,this.isHalfChecked=e}setExpanded(s){this._isExpanded=s,this.origin.expanded=s,this.afterValueChange("isExpanded")}getParentNode(){return this.parentNode}getChildren(){return this.children}addChildren(s,e=-1){this.isLeaf||(s.forEach(t=>{let n=a=>{a.getChildren().forEach(d=>{d.level=d.getParentNode().level+1,d.origin.level=d.level,n(d)})},r=t;r instanceof i?r.parentNode=this:r=new i(t,this),r.level=this.level+1,r.origin.level=r.level,n(r);try{e===-1?this.children.push(r):this.children.splice(e,0,r)}catch{}}),this.origin.children=this.getChildren().map(t=>t.origin),this.isLoading=!1),this.afterValueChange("addChildren"),this.afterValueChange("reRender")}clearChildren(){this.afterValueChange("clearChildren"),this.children=[],this.origin.children=[],this.afterValueChange("reRender")}remove(){let s=this.getParentNode();s&&(s.children=s.getChildren().filter(e=>e.key!==this.key),s.origin.children=s.origin.children.filter(e=>e.key!==this.key),this.afterValueChange("remove"),this.afterValueChange("reRender"))}afterValueChange(s){if(this.treeService)switch(s){case"isChecked":this.treeService.setCheckedNodeList(this);break;case"isHalfChecked":this.treeService.setHalfCheckedNodeList(this);break;case"isExpanded":this.treeService.setExpandedNodeList(this);break;case"isSelected":this.treeService.setNodeActive(this);break;case"clearChildren":this.treeService.afterRemove(this.getChildren());break;case"remove":this.treeService.afterRemove([this]);break;case"reRender":this.treeService.flattenTreeData(this.treeService.rootNodes,this.treeService.getExpandedNodeList().map(e=>e.key));break}this.update()}update(){this.component&&this.component.markForCheck()}};function de(i){let{isDisabled:s,isDisableCheckbox:e}=i;return!!(s||e)}function Re(i,s){return s.length>0&&s.indexOf(i)>-1}function it(i,s){return`${i}-${s}`}function st(i,s){return i??s}function ce(i=[],s=[]){let e=new Set(s===!0?[]:s),t=[];function n(r,a=null){return r.map((d,g)=>{let L=it(a?a.pos:"0",g),V=st(d.key,L);d.isStart=[...a?a.isStart:[],g===0],d.isEnd=[...a?a.isEnd:[],g===r.length-1];let y={parent:a,pos:L,children:[],data:d,isStart:[...a?a.isStart:[],g===0],isEnd:[...a?a.isEnd:[],g===r.length-1]};return t.push(y),s===!0||e.has(V)||d.isExpanded?y.children=n(d.children||[],y):y.children=[],y})}return n(i),t}var w=(()=>{class i{constructor(){this.DRAG_SIDE_RANGE=.25,this.DRAG_MIN_GAP=2,this.isCheckStrictly=!1,this.isMultiple=!1,this.rootNodes=[],this.flattenNodes$=new he([]),this.selectedNodeList=[],this.expandedNodeList=[],this.checkedNodeList=[],this.halfCheckedNodeList=[],this.matchedNodeList=[]}initTree(e){this.rootNodes=e,this.expandedNodeList=[],this.selectedNodeList=[],this.halfCheckedNodeList=[],this.checkedNodeList=[],this.matchedNodeList=[]}flattenTreeData(e,t=[]){this.flattenNodes$.next(ce(e,t).map(n=>n.data))}getSelectedNode(){return this.selectedNode}getSelectedNodeList(){return this.conductNodeState("select")}getCheckedNodeKeys(){let e=[],t=this.getCheckedNodeList(),n=r=>{r.forEach(a=>{e.push(a.key),!(a.children.length<1)&&n(a.children)})};return n(t),e}getCheckedNodeList(){return this.conductNodeState("check")}getHalfCheckedNodeList(){return this.conductNodeState("halfCheck")}getExpandedNodeList(){return this.conductNodeState("expand")}getMatchedNodeList(){return this.conductNodeState("match")}isArrayOfNzTreeNode(e){return e.every(t=>t instanceof Z)}setSelectedNode(e){this.selectedNode=e}setNodeActive(e){!this.isMultiple&&e.isSelected&&(this.selectedNodeList.forEach(t=>{e.key!==t.key&&(t.isSelected=!1)}),this.selectedNodeList=[]),this.setSelectedNodeList(e,this.isMultiple)}setSelectedNodeList(e,t=!1){let n=this.getIndexOfArray(this.selectedNodeList,e.key);t?e.isSelected&&n===-1&&this.selectedNodeList.push(e):e.isSelected&&n===-1&&(this.selectedNodeList=[e]),e.isSelected||(this.selectedNodeList=this.selectedNodeList.filter(r=>r.key!==e.key))}setHalfCheckedNodeList(e){let t=this.getIndexOfArray(this.halfCheckedNodeList,e.key);e.isHalfChecked&&t===-1?this.halfCheckedNodeList.push(e):!e.isHalfChecked&&t>-1&&(this.halfCheckedNodeList=this.halfCheckedNodeList.filter(n=>e.key!==n.key))}setCheckedNodeList(e){let t=this.getIndexOfArray(this.checkedNodeList,e.key);e.isChecked&&t===-1?this.checkedNodeList.push(e):!e.isChecked&&t>-1&&(this.checkedNodeList=this.checkedNodeList.filter(n=>e.key!==n.key))}conductNodeState(e="check"){let t=[];switch(e){case"select":t=this.selectedNodeList;break;case"expand":t=this.expandedNodeList;break;case"match":t=this.matchedNodeList;break;case"check":t=this.checkedNodeList;let n=r=>{let a=r.getParentNode();return a?this.checkedNodeList.findIndex(d=>d.key===a.key)>-1?!0:n(a):!1};this.isCheckStrictly||(t=this.checkedNodeList.filter(r=>!n(r)));break;case"halfCheck":this.isCheckStrictly||(t=this.halfCheckedNodeList);break}return t}setExpandedNodeList(e){if(e.isLeaf)return;let t=this.getIndexOfArray(this.expandedNodeList,e.key);e.isExpanded&&t===-1?this.expandedNodeList.push(e):!e.isExpanded&&t>-1&&this.expandedNodeList.splice(t,1)}setMatchedNodeList(e){let t=this.getIndexOfArray(this.matchedNodeList,e.key);e.isMatched&&t===-1?this.matchedNodeList.push(e):!e.isMatched&&t>-1&&this.matchedNodeList.splice(t,1)}refreshCheckState(e=!1){e||this.checkedNodeList.forEach(t=>{this.conduct(t,e)})}conduct(e,t=!1){let n=e.isChecked;e&&!t&&(this.conductUp(e),this.conductDown(e,n))}conductUp(e){let t=e.getParentNode();t&&(de(t)||(t.children.every(n=>de(n)||!n.isHalfChecked&&n.isChecked)?(t.isChecked=!0,t.isHalfChecked=!1):t.children.some(n=>n.isHalfChecked||n.isChecked)?(t.isChecked=!1,t.isHalfChecked=!0):(t.isChecked=!1,t.isHalfChecked=!1)),this.setCheckedNodeList(t),this.setHalfCheckedNodeList(t),this.conductUp(t))}conductDown(e,t){de(e)||(e.isChecked=t,e.isHalfChecked=!1,this.setCheckedNodeList(e),this.setHalfCheckedNodeList(e),e.children.forEach(n=>{this.conductDown(n,t)}))}afterRemove(e){let t=n=>{this.selectedNodeList=this.selectedNodeList.filter(r=>r.key!==n.key),this.expandedNodeList=this.expandedNodeList.filter(r=>r.key!==n.key),this.checkedNodeList=this.checkedNodeList.filter(r=>r.key!==n.key),n.children&&n.children.forEach(r=>{t(r)})};e.forEach(n=>{t(n)}),this.refreshCheckState(this.isCheckStrictly)}refreshDragNode(e){e.children.length===0?this.conductUp(e):e.children.forEach(t=>{this.refreshDragNode(t)})}resetNodeLevel(e){let t=e.getParentNode();t?e.level=t.level+1:e.level=0;for(let n of e.children)this.resetNodeLevel(n)}calcDropPosition(e){let{clientY:t}=e,{top:n,bottom:r,height:a}=e.target.getBoundingClientRect(),d=Math.max(a*this.DRAG_SIDE_RANGE,this.DRAG_MIN_GAP);return t<=n+d?-1:t>=r-d?1:0}dropAndApply(e,t=-1){if(!e||t>1)return;let n=e.treeService,r=e.getParentNode(),a=this.selectedNode.getParentNode();switch(a?a.children=a.children.filter(d=>d.key!==this.selectedNode.key):this.rootNodes=this.rootNodes.filter(d=>d.key!==this.selectedNode.key),t){case 0:e.addChildren([this.selectedNode]),this.resetNodeLevel(e);break;case-1:case 1:let d=t===1?1:0;if(r){r.addChildren([this.selectedNode],r.children.indexOf(e)+d);let g=this.selectedNode.getParentNode();g&&this.resetNodeLevel(g)}else{let g=this.rootNodes.indexOf(e)+d;this.rootNodes.splice(g,0,this.selectedNode),this.rootNodes[g].parentNode=null,this.resetNodeLevel(this.rootNodes[g])}break}this.rootNodes.forEach(d=>{d.treeService||(d.service=n),this.refreshDragNode(d)})}formatEvent(e,t,n){let r={eventName:e,node:t,event:n};switch(e){case"dragstart":case"dragenter":case"dragover":case"dragleave":case"drop":case"dragend":Object.assign(r,{dragNode:this.getSelectedNode()});break;case"click":case"dblclick":Object.assign(r,{selectedKeys:this.selectedNodeList}),Object.assign(r,{nodes:this.selectedNodeList}),Object.assign(r,{keys:this.selectedNodeList.map(d=>d.key)});break;case"check":let a=this.getCheckedNodeList();Object.assign(r,{checkedKeys:a}),Object.assign(r,{nodes:a}),Object.assign(r,{keys:a.map(d=>d.key)});break;case"search":Object.assign(r,{matchedKeys:this.getMatchedNodeList()}),Object.assign(r,{nodes:this.getMatchedNodeList()}),Object.assign(r,{keys:this.getMatchedNodeList().map(d=>d.key)});break;case"expand":Object.assign(r,{nodes:this.expandedNodeList}),Object.assign(r,{keys:this.expandedNodeList.map(d=>d.key)});break}return r}getIndexOfArray(e,t){return e.findIndex(n=>n.key===t)}conductCheck(e,t){this.checkedNodeList=[],this.halfCheckedNodeList=[];let n=r=>{r.forEach(a=>{e===null?a.isChecked=!!a.origin.checked:Re(a.key,e||[])?(a.isChecked=!0,a.isHalfChecked=!1):(a.isChecked=!1,a.isHalfChecked=!1),a.children.length>0&&n(a.children)})};n(this.rootNodes),this.refreshCheckState(t)}conductExpandedKeys(e=[]){let t=new Set(e===!0?[]:e);this.expandedNodeList=[];let n=r=>{r.forEach(a=>{a.setExpanded(e===!0||t.has(a.key)||a.isExpanded===!0),a.isExpanded&&this.setExpandedNodeList(a),a.children.length>0&&n(a.children)})};n(this.rootNodes)}conductSelectedKeys(e,t){this.selectedNodeList.forEach(r=>r.isSelected=!1),this.selectedNodeList=[];let n=r=>r.every(a=>{if(Re(a.key,e)){if(a.isSelected=!0,this.setSelectedNodeList(a),!t)return!1}else a.isSelected=!1;return a.children.length>0?n(a.children):!0});n(this.rootNodes)}expandNodeAllParentBySearch(e){let t=n=>{if(n&&(n.canHide=!1,n.setExpanded(!0),this.setExpandedNodeList(n),n.getParentNode()))return t(n.getParentNode())};t(e.getParentNode())}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=A({token:i,factory:i.\u0275fac})}}return i})(),$e=new ze("NzTreeHigherOrder"),W=class{constructor(s){this.nzTreeService=s}coerceTreeNodes(s){let e=[];return this.nzTreeService.isArrayOfNzTreeNode(s)?e=s.map(t=>(t.service=this.nzTreeService,t)):e=s.map(t=>new Z(t,null,this.nzTreeService)),e}getTreeNodes(){return this.nzTreeService.rootNodes}getTreeNodeByKey(s){let e=[],t=n=>{e.push(n),n.getChildren().forEach(r=>{t(r)})};return this.getTreeNodes().forEach(n=>{t(n)}),e.find(n=>n.key===s)||null}getCheckedNodeList(){return this.nzTreeService.getCheckedNodeList()}getSelectedNodeList(){return this.nzTreeService.getSelectedNodeList()}getHalfCheckedNodeList(){return this.nzTreeService.getHalfCheckedNodeList()}getExpandedNodeList(){return this.nzTreeService.getExpandedNodeList()}getMatchedNodeList(){return this.nzTreeService.getMatchedNodeList()}};function at(i,s){if(i&1&&S(0,"span"),i&2){let e=s.$index,t=c();z("ant-tree-indent-unit",!t.nzSelectMode)("ant-select-tree-indent-unit",t.nzSelectMode)("ant-select-tree-indent-unit-start",t.nzSelectMode&&t.nzIsStart[e])("ant-tree-indent-unit-start",!t.nzSelectMode&&t.nzIsStart[e])("ant-select-tree-indent-unit-end",t.nzSelectMode&&t.nzIsEnd[e])("ant-tree-indent-unit-end",!t.nzSelectMode&&t.nzIsEnd[e])}}var Ue=["builtin",""],le=(i,s)=>({$implicit:i,origin:s});function ot(i,s){if(i&1&&(K(0),S(1,"span",2),R()),i&2){let e=c(3);p(),z("ant-select-tree-switcher-icon",e.nzSelectMode)("ant-tree-switcher-icon",!e.nzSelectMode)}}function dt(i,s){if(i&1&&f(0,ot,2,4,"ng-container",1),i&2){let e=c(2);h("nzStringTemplateOutlet",e.nzExpandedIcon)("nzStringTemplateOutletContext",U(2,le,e.context,e.context.origin))}}function ct(i,s){i&1&&S(0,"span",0),i&2&&h("nzSpin",!0)}function lt(i,s){if(i&1&&f(0,dt,1,5,"ng-container")(1,ct,1,1,"span",0),i&2){let e=c();k(e.isLoading?1:0)}}function ht(i,s){if(i&1&&S(0,"span",3),i&2){let e=c(4);h("nzType",e.isSwitcherOpen?"minus-square":"plus-square")}}function pt(i,s){i&1&&S(0,"span",4)}function zt(i,s){if(i&1&&(K(0),f(1,ht,1,1,"span",3)(2,pt,1,0,"span",4),R()),i&2){let e=c(3);p(),k(e.isShowLineIcon?1:2)}}function ft(i,s){if(i&1&&f(0,zt,3,1,"ng-container",1),i&2){let e=c(2);h("nzStringTemplateOutlet",e.nzExpandedIcon)("nzStringTemplateOutletContext",U(2,le,e.context,e.context.origin))}}function gt(i,s){i&1&&S(0,"span",0),i&2&&h("nzSpin",!0)}function ut(i,s){if(i&1&&f(0,ft,1,5,"ng-container")(1,gt,1,1,"span",0),i&2){let e=c();k(e.isLoading?1:0)}}function Ct(i,s){}function St(i,s){if(i&1&&(N(0,"span")(1,"span"),S(2,"span",4),_()()),i&2){let e=c(2);z("ant-tree-icon__open",e.isSwitcherOpen)("ant-tree-icon__close",e.isSwitcherClose)("ant-tree-icon_loading",e.isLoading)("ant-select-tree-iconEle",e.selectMode)("ant-tree-iconEle",!e.selectMode),p(),z("ant-select-tree-iconEle",e.selectMode)("ant-select-tree-icon__customize",e.selectMode)("ant-tree-iconEle",!e.selectMode)("ant-tree-icon__customize",!e.selectMode),p(),h("nzType",e.icon)}}function mt(i,s){if(i&1&&(f(0,St,3,19,"span",3),S(1,"span",1),De(2,"nzHighlight")),i&2){let e=c();k(e.icon&&e.showIcon?0:-1),p(),h("innerHTML",ye(2,2,e.title,e.matchedValue,"i","font-highlight"),Ce)}}function kt(i,s){if(i&1&&S(0,"nz-tree-drop-indicator",2),i&2){let e=c();h("dropPosition",e.dragPosition)("level",e.context.level)}}function Nt(i,s){if(i&1){let e=$();N(0,"nz-tree-node-switcher",4),O("click",function(n){u(e);let r=c();return C(r.clickExpand(n))}),_()}if(i&2){let e=c();h("nzShowExpand",e.nzShowExpand)("nzShowLine",e.nzShowLine)("nzExpandedIcon",e.nzExpandedIcon)("nzSelectMode",e.nzSelectMode)("context",e.nzTreeNode)("isLeaf",e.isLeaf)("isExpanded",e.isExpanded)("isLoading",e.isLoading)}}function _t(i,s){if(i&1){let e=$();N(0,"nz-tree-node-checkbox",5),O("click",function(n){u(e);let r=c();return C(r.clickCheckBox(n))}),_()}if(i&2){let e=c();h("nzSelectMode",e.nzSelectMode)("isChecked",e.isChecked)("isHalfChecked",e.isHalfChecked)("isDisabled",e.isDisabled)("isDisableCheckbox",e.isDisableCheckbox)}}var Tt=["nzTreeTemplate"],je=i=>({$implicit:i});function xt(i,s){}function vt(i,s){if(i&1&&(K(0),f(1,xt,0,0,"ng-template",10),R()),i&2){let e=s.$implicit;c(2);let t=ie(9);p(),h("ngTemplateOutlet",t)("ngTemplateOutletContext",se(2,je,e))}}function Dt(i,s){if(i&1&&(N(0,"cdk-virtual-scroll-viewport",8),f(1,vt,2,4,"ng-container",9),_()),i&2){let e=c();X("height",e.nzVirtualHeight),z("ant-select-tree-list-holder-inner",e.nzSelectMode)("ant-tree-list-holder-inner",!e.nzSelectMode),h("itemSize",e.nzVirtualItemSize)("minBufferPx",e.nzVirtualMinBufferPx)("maxBufferPx",e.nzVirtualMaxBufferPx),p(),h("cdkVirtualForOf",e.nzFlattenNodes)("cdkVirtualForTrackBy",e.trackByFlattenNode)}}function yt(i,s){}function bt(i,s){if(i&1&&f(0,yt,0,0,"ng-template",10),i&2){let e=s.$implicit;c(2);let t=ie(9);h("ngTemplateOutlet",t)("ngTemplateOutletContext",se(2,je,e))}}function Et(i,s){if(i&1&&(N(0,"div",11),J(1,bt,1,4,null,10,Ne().trackByFlattenNode,!0),_()),i&2){let e=c();z("ant-select-tree-list-holder-inner",e.nzSelectMode)("ant-tree-list-holder-inner",!e.nzSelectMode),h("@.disabled",e.beforeInit||!!(e.noAnimation!=null&&e.noAnimation.nzNoAnimation))("nzNoAnimation",e.noAnimation==null?null:e.noAnimation.nzNoAnimation)("@treeCollapseMotion",e.nzFlattenNodes.length),p(),ee(e.nzFlattenNodes)}}function wt(i,s){if(i&1){let e=$();N(0,"nz-tree-node",12),O("nzExpandChange",function(n){u(e);let r=c();return C(r.eventTriggerChanged(n))})("nzClick",function(n){u(e);let r=c();return C(r.eventTriggerChanged(n))})("nzDblClick",function(n){u(e);let r=c();return C(r.eventTriggerChanged(n))})("nzContextMenu",function(n){u(e);let r=c();return C(r.eventTriggerChanged(n))})("nzCheckBoxChange",function(n){u(e);let r=c();return C(r.eventTriggerChanged(n))})("nzOnDragStart",function(n){u(e);let r=c();return C(r.eventTriggerChanged(n))})("nzOnDragEnter",function(n){u(e);let r=c();return C(r.eventTriggerChanged(n))})("nzOnDragOver",function(n){u(e);let r=c();return C(r.eventTriggerChanged(n))})("nzOnDragLeave",function(n){u(e);let r=c();return C(r.eventTriggerChanged(n))})("nzOnDragEnd",function(n){u(e);let r=c();return C(r.eventTriggerChanged(n))})("nzOnDrop",function(n){u(e);let r=c();return C(r.eventTriggerChanged(n))}),_()}if(i&2){let e=s.$implicit,t=c();h("icon",e.icon)("title",e.title)("isLoading",e.isLoading)("isSelected",e.isSelected)("isDisabled",e.isDisabled)("isMatched",e.isMatched)("isExpanded",e.isExpanded)("isLeaf",e.isLeaf)("isStart",e.isStart)("isEnd",e.isEnd)("isChecked",e.isChecked)("isHalfChecked",e.isHalfChecked)("isDisableCheckbox",e.isDisableCheckbox)("isSelectable",e.isSelectable)("canHide",e.canHide)("nzTreeNode",e)("nzSelectMode",t.nzSelectMode)("nzShowLine",t.nzShowLine)("nzExpandedIcon",t.nzExpandedIcon)("nzDraggable",t.nzDraggable)("nzCheckable",t.nzCheckable)("nzShowExpand",t.nzShowExpand)("nzAsyncData",t.nzAsyncData)("nzSearchValue",t.nzSearchValue)("nzHideUnMatched",t.nzHideUnMatched)("nzBeforeDrop",t.nzBeforeDrop)("nzShowIcon",t.nzShowIcon)("nzTreeTemplate",t.nzTreeTemplate||t.nzTreeTemplateChild)}}var Lt=(()=>{class i{constructor(e){this.cdr=e,this.level=1,this.direction="ltr",this.style={}}ngOnChanges(e){this.renderIndicator(this.dropPosition,this.direction)}renderIndicator(e,t="ltr"){let r=t==="ltr"?"left":"right",a=t==="ltr"?"right":"left",d={[r]:"4px",[a]:"0px"};switch(e){case-1:d.top="-3px";break;case 1:d.bottom="-3px";break;case 0:d.bottom="-3px",d[r]="28px";break;default:d.display="none";break}this.style=d,this.cdr.markForCheck()}static{this.\u0275fac=function(t){return new(t||i)(m(I))}}static{this.\u0275cmp=v({type:i,selectors:[["nz-tree-drop-indicator"]],hostVars:4,hostBindings:function(t,n){t&2&&(ke(n.style),z("ant-tree-drop-indicator",!0))},inputs:{dropPosition:"dropPosition",level:[2,"level","level",Ee],direction:"direction"},exportAs:["NzTreeDropIndicator"],standalone:!0,features:[b,E,D],decls:0,vars:0,template:function(t,n){},encapsulation:2,changeDetection:0})}}return i})(),Mt=(()=>{class i{constructor(){this.nzTreeLevel=0,this.nzIsStart=[],this.nzIsEnd=[],this.nzSelectMode=!1,this.listOfUnit=[]}ngOnChanges(e){let{nzTreeLevel:t}=e;t&&(this.listOfUnit=[...new Array(t.currentValue||0)])}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=v({type:i,selectors:[["nz-tree-indent"]],hostVars:5,hostBindings:function(t,n){t&2&&(q("aria-hidden",!0),z("ant-tree-indent",!n.nzSelectMode)("ant-select-tree-indent",n.nzSelectMode))},inputs:{nzTreeLevel:"nzTreeLevel",nzIsStart:"nzIsStart",nzIsEnd:"nzIsEnd",nzSelectMode:"nzSelectMode"},exportAs:["nzTreeIndent"],standalone:!0,features:[E,D],decls:2,vars:0,consts:[[3,"ant-tree-indent-unit","ant-select-tree-indent-unit","ant-select-tree-indent-unit-start","ant-tree-indent-unit-start","ant-select-tree-indent-unit-end","ant-tree-indent-unit-end"]],template:function(t,n){t&1&&J(0,at,1,12,"span",0,_e),t&2&&ee(n.listOfUnit)},encapsulation:2,changeDetection:0})}}return i})(),Ot=(()=>{class i{constructor(){this.nzSelectMode=!1}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=v({type:i,selectors:[["nz-tree-node-checkbox","builtin",""]],hostVars:16,hostBindings:function(t,n){t&2&&z("ant-select-tree-checkbox",n.nzSelectMode)("ant-select-tree-checkbox-checked",n.nzSelectMode&&n.isChecked)("ant-select-tree-checkbox-indeterminate",n.nzSelectMode&&n.isHalfChecked)("ant-select-tree-checkbox-disabled",n.nzSelectMode&&(n.isDisabled||n.isDisableCheckbox))("ant-tree-checkbox",!n.nzSelectMode)("ant-tree-checkbox-checked",!n.nzSelectMode&&n.isChecked)("ant-tree-checkbox-indeterminate",!n.nzSelectMode&&n.isHalfChecked)("ant-tree-checkbox-disabled",!n.nzSelectMode&&(n.isDisabled||n.isDisableCheckbox))},inputs:{nzSelectMode:"nzSelectMode",isChecked:[2,"isChecked","isChecked",o],isHalfChecked:[2,"isHalfChecked","isHalfChecked",o],isDisabled:[2,"isDisabled","isDisabled",o],isDisableCheckbox:[2,"isDisableCheckbox","isDisableCheckbox",o]},standalone:!0,features:[b,D],attrs:Ue,decls:1,vars:4,template:function(t,n){t&1&&S(0,"span"),t&2&&z("ant-tree-checkbox-inner",!n.nzSelectMode)("ant-select-tree-checkbox-inner",n.nzSelectMode)},encapsulation:2,changeDetection:0})}}return i})(),Ge=(()=>{class i{constructor(){this.nzSelectMode=!1}get isShowLineIcon(){return!this.isLeaf&&!!this.nzShowLine}get isShowSwitchIcon(){return!this.isLeaf&&!this.nzShowLine}get isSwitcherOpen(){return!!this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=v({type:i,selectors:[["nz-tree-node-switcher"]],hostVars:16,hostBindings:function(t,n){t&2&&z("ant-select-tree-switcher",n.nzSelectMode)("ant-select-tree-switcher-noop",n.nzSelectMode&&n.isLeaf)("ant-select-tree-switcher_open",n.nzSelectMode&&n.isSwitcherOpen)("ant-select-tree-switcher_close",n.nzSelectMode&&n.isSwitcherClose)("ant-tree-switcher",!n.nzSelectMode)("ant-tree-switcher-noop",!n.nzSelectMode&&n.isLeaf)("ant-tree-switcher_open",!n.nzSelectMode&&n.isSwitcherOpen)("ant-tree-switcher_close",!n.nzSelectMode&&n.isSwitcherClose)},inputs:{nzShowExpand:[2,"nzShowExpand","nzShowExpand",o],nzShowLine:[2,"nzShowLine","nzShowLine",o],nzExpandedIcon:"nzExpandedIcon",nzSelectMode:"nzSelectMode",context:"context",isLeaf:[2,"isLeaf","isLeaf",o],isLoading:[2,"isLoading","isLoading",o],isExpanded:[2,"isExpanded","isExpanded",o]},standalone:!0,features:[b,D],decls:2,vars:2,consts:[["nz-icon","","nzType","loading",1,"ant-tree-switcher-loading-icon",3,"nzSpin"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-icon","","nzType","caret-down"],["nz-icon","",1,"ant-tree-switcher-line-icon",3,"nzType"],["nz-icon","","nzType","file",1,"ant-tree-switcher-line-icon"]],template:function(t,n){t&1&&f(0,lt,2,1)(1,ut,2,1),t&2&&(k(n.isShowSwitchIcon?0:-1),p(),k(n.nzShowLine?1:-1))},dependencies:[oe,ae,He,Ve],encapsulation:2,changeDetection:0})}}return i})(),Qe=(()=>{class i{get canDraggable(){return this.draggable&&!this.isDisabled?!0:null}get matchedValue(){return this.isMatched?this.searchValue:""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}constructor(e){this.cdr=e,this.treeTemplate=null,this.selectMode=!1,this.showIndicator=!0}ngOnChanges(e){let{showIndicator:t,dragPosition:n}=e;(t||n)&&this.cdr.markForCheck()}static{this.\u0275fac=function(t){return new(t||i)(m(I))}}static{this.\u0275cmp=v({type:i,selectors:[["nz-tree-node-title"]],hostVars:21,hostBindings:function(t,n){t&2&&(q("title",n.title)("draggable",n.canDraggable)("aria-grabbed",n.canDraggable),z("draggable",n.canDraggable)("ant-select-tree-node-content-wrapper",n.selectMode)("ant-select-tree-node-content-wrapper-open",n.selectMode&&n.isSwitcherOpen)("ant-select-tree-node-content-wrapper-close",n.selectMode&&n.isSwitcherClose)("ant-select-tree-node-selected",n.selectMode&&n.isSelected)("ant-tree-node-content-wrapper",!n.selectMode)("ant-tree-node-content-wrapper-open",!n.selectMode&&n.isSwitcherOpen)("ant-tree-node-content-wrapper-close",!n.selectMode&&n.isSwitcherClose)("ant-tree-node-selected",!n.selectMode&&n.isSelected))},inputs:{searchValue:"searchValue",treeTemplate:"treeTemplate",draggable:[2,"draggable","draggable",o],showIcon:[2,"showIcon","showIcon",o],selectMode:"selectMode",context:"context",icon:"icon",title:"title",isLoading:[2,"isLoading","isLoading",o],isSelected:[2,"isSelected","isSelected",o],isDisabled:[2,"isDisabled","isDisabled",o],isMatched:[2,"isMatched","isMatched",o],isExpanded:[2,"isExpanded","isExpanded",o],isLeaf:[2,"isLeaf","isLeaf",o],showIndicator:"showIndicator",dragPosition:"dragPosition"},standalone:!0,features:[b,E,D],decls:3,vars:7,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ant-tree-title",3,"innerHTML"],[3,"dropPosition","level"],[3,"ant-tree-icon__open","ant-tree-icon__close","ant-tree-icon_loading","ant-select-tree-iconEle","ant-tree-iconEle"],["nz-icon","",3,"nzType"]],template:function(t,n){t&1&&f(0,Ct,0,0,"ng-template",0)(1,mt,3,7,"span",1)(2,kt,1,2,"nz-tree-drop-indicator",2),t&2&&(h("ngTemplateOutlet",n.treeTemplate)("ngTemplateOutletContext",U(4,le,n.context,n.context.origin)),p(),k(n.treeTemplate?-1:1),p(),k(n.showIndicator?2:-1))},dependencies:[re,oe,ae,Ke,Fe,Lt],encapsulation:2,changeDetection:0})}}return i})(),Ze=(()=>{class i{get displayStyle(){return this.nzSearchValue&&this.nzHideUnMatched&&!this.isMatched&&!this.isExpanded&&this.canHide?"none":""}get isSwitcherOpen(){return this.isExpanded&&!this.isLeaf}get isSwitcherClose(){return!this.isExpanded&&!this.isLeaf}clickExpand(e){e.preventDefault(),!this.isLoading&&!this.isLeaf&&(this.nzAsyncData&&this.nzTreeNode.children.length===0&&!this.isExpanded&&(this.nzTreeNode.isLoading=!0),this.nzTreeNode.setExpanded(!this.isExpanded)),this.nzTreeService.setExpandedNodeList(this.nzTreeNode);let t=this.nzTreeService.formatEvent("expand",this.nzTreeNode,e);this.nzExpandChange.emit(t)}clickSelect(e){e.preventDefault(),this.isSelectable&&!this.isDisabled&&(this.nzTreeNode.isSelected=!this.nzTreeNode.isSelected),this.nzTreeService.setSelectedNodeList(this.nzTreeNode);let t=this.nzTreeService.formatEvent("click",this.nzTreeNode,e);this.nzClick.emit(t)}dblClick(e){e.preventDefault();let t=this.nzTreeService.formatEvent("dblclick",this.nzTreeNode,e);this.nzDblClick.emit(t)}contextMenu(e){e.preventDefault();let t=this.nzTreeService.formatEvent("contextmenu",this.nzTreeNode,e);this.nzContextMenu.emit(t)}clickCheckBox(e){if(e.preventDefault(),this.isDisabled||this.isDisableCheckbox)return;this.nzTreeNode.isChecked=!this.nzTreeNode.isChecked,this.nzTreeNode.isHalfChecked=!1,this.nzTreeService.setCheckedNodeList(this.nzTreeNode);let t=this.nzTreeService.formatEvent("check",this.nzTreeNode,e);this.nzCheckBoxChange.emit(t)}clearDragClass(){["drag-over-gap-top","drag-over-gap-bottom","drag-over","drop-target"].forEach(t=>{this.renderer.removeClass(this.elementRef.nativeElement,t)})}handleDragStart(e){try{e.dataTransfer.setData("text/plain",this.nzTreeNode.key)}catch{}this.nzTreeService.setSelectedNode(this.nzTreeNode),this.draggingKey=this.nzTreeNode.key;let t=this.nzTreeService.formatEvent("dragstart",this.nzTreeNode,e);this.nzOnDragStart.emit(t)}handleDragEnter(e){e.preventDefault(),this.showIndicator=this.nzTreeNode.key!==this.nzTreeService.getSelectedNode()?.key,this.renderIndicator(2),this.ngZone.run(()=>{let t=this.nzTreeService.formatEvent("dragenter",this.nzTreeNode,e);this.nzOnDragEnter.emit(t)})}handleDragOver(e){e.preventDefault();let t=this.nzTreeService.calcDropPosition(e);this.dragPos!==t&&(this.clearDragClass(),this.renderIndicator(t),this.dragPos===0&&this.isLeaf||(this.renderer.addClass(this.elementRef.nativeElement,this.dragPosClass[this.dragPos]),this.renderer.addClass(this.elementRef.nativeElement,"drop-target")));let n=this.nzTreeService.formatEvent("dragover",this.nzTreeNode,e);this.nzOnDragOver.emit(n)}handleDragLeave(e){e.preventDefault(),this.renderIndicator(2),this.clearDragClass();let t=this.nzTreeService.formatEvent("dragleave",this.nzTreeNode,e);this.nzOnDragLeave.emit(t)}handleDragDrop(e){e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.showIndicator=!1,this.clearDragClass();let t=this.nzTreeService.getSelectedNode();if(!t||t&&t.key===this.nzTreeNode.key||this.dragPos===0&&this.isLeaf)return;let n=this.nzTreeService.formatEvent("drop",this.nzTreeNode,e),r=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,e);this.nzBeforeDrop?this.nzBeforeDrop({dragNode:this.nzTreeService.getSelectedNode(),node:this.nzTreeNode,pos:this.dragPos}).subscribe(a=>{a&&this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(n),this.nzOnDragEnd.emit(r)}):this.nzTreeNode&&(this.nzTreeService.dropAndApply(this.nzTreeNode,this.dragPos),this.nzOnDrop.emit(n))})}handleDragEnd(e){e.preventDefault(),this.ngZone.run(()=>{if(this.nzBeforeDrop)this.draggingKey=null,this.markForCheck();else{this.draggingKey=null;let t=this.nzTreeService.formatEvent("dragend",this.nzTreeNode,e);this.nzOnDragEnd.emit(t)}})}handDragEvent(){this.ngZone.runOutsideAngular(()=>{if(this.nzDraggable){let e=this.elementRef.nativeElement;this.destroy$=new H,x(e,"dragstart").pipe(T(this.destroy$)).subscribe(t=>this.handleDragStart(t)),x(e,"dragenter").pipe(T(this.destroy$)).subscribe(t=>this.handleDragEnter(t)),x(e,"dragover").pipe(T(this.destroy$)).subscribe(t=>this.handleDragOver(t)),x(e,"dragleave").pipe(T(this.destroy$)).subscribe(t=>this.handleDragLeave(t)),x(e,"drop").pipe(T(this.destroy$)).subscribe(t=>this.handleDragDrop(t)),x(e,"dragend").pipe(T(this.destroy$)).subscribe(t=>this.handleDragEnd(t))}else this.destroy$.next(!0),this.destroy$.complete()})}markForCheck(){this.cdr.markForCheck()}constructor(e,t,n,r,a){this.nzTreeService=e,this.ngZone=t,this.renderer=n,this.elementRef=r,this.cdr=a,this.icon="",this.title="",this.isLoading=!1,this.isSelected=!1,this.isDisabled=!1,this.isMatched=!1,this.isStart=[],this.isEnd=[],this.nzHideUnMatched=!1,this.nzNoAnimation=!1,this.nzSelectMode=!1,this.nzShowIcon=!1,this.nzTreeTemplate=null,this.nzSearchValue="",this.nzDraggable=!1,this.nzClick=new l,this.nzDblClick=new l,this.nzContextMenu=new l,this.nzCheckBoxChange=new l,this.nzExpandChange=new l,this.nzOnDragStart=new l,this.nzOnDragEnter=new l,this.nzOnDragOver=new l,this.nzOnDragLeave=new l,this.nzOnDrop=new l,this.nzOnDragEnd=new l,this.destroy$=new H,this.dragPos=2,this.dragPosClass={0:"drag-over",1:"drag-over-gap-bottom","-1":"drag-over-gap-top"},this.draggingKey=null,this.showIndicator=!1,this.noAnimation=M(Q,{host:!0,optional:!0})}ngOnInit(){this.nzTreeNode.component=this,this.ngZone.runOutsideAngular(()=>{x(this.elementRef.nativeElement,"mousedown").pipe(T(this.destroy$)).subscribe(e=>{this.nzSelectMode&&e.preventDefault()})})}ngOnChanges(e){let{nzDraggable:t}=e;t&&this.handDragEvent()}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}renderIndicator(e){this.ngZone.run(()=>{this.showIndicator=e!==2,!(this.nzTreeNode.key===this.nzTreeService.getSelectedNode()?.key||e===0&&this.isLeaf)&&(this.dragPos=e,this.cdr.markForCheck())})}static{this.\u0275fac=function(t){return new(t||i)(m(w),m(ge),m(Se),m(ue),m(I))}}static{this.\u0275cmp=v({type:i,selectors:[["nz-tree-node","builtin",""]],hostVars:36,hostBindings:function(t,n){t&2&&(X("display",n.displayStyle),z("ant-select-tree-treenode",n.nzSelectMode)("ant-select-tree-treenode-disabled",n.nzSelectMode&&n.isDisabled)("ant-select-tree-treenode-switcher-open",n.nzSelectMode&&n.isSwitcherOpen)("ant-select-tree-treenode-switcher-close",n.nzSelectMode&&n.isSwitcherClose)("ant-select-tree-treenode-checkbox-checked",n.nzSelectMode&&n.isChecked)("ant-select-tree-treenode-checkbox-indeterminate",n.nzSelectMode&&n.isHalfChecked)("ant-select-tree-treenode-selected",n.nzSelectMode&&n.isSelected)("ant-select-tree-treenode-loading",n.nzSelectMode&&n.isLoading)("ant-tree-treenode",!n.nzSelectMode)("ant-tree-treenode-disabled",!n.nzSelectMode&&n.isDisabled)("ant-tree-treenode-switcher-open",!n.nzSelectMode&&n.isSwitcherOpen)("ant-tree-treenode-switcher-close",!n.nzSelectMode&&n.isSwitcherClose)("ant-tree-treenode-checkbox-checked",!n.nzSelectMode&&n.isChecked)("ant-tree-treenode-checkbox-indeterminate",!n.nzSelectMode&&n.isHalfChecked)("ant-tree-treenode-selected",!n.nzSelectMode&&n.isSelected)("ant-tree-treenode-loading",!n.nzSelectMode&&n.isLoading)("dragging",n.draggingKey===n.nzTreeNode.key))},inputs:{icon:"icon",title:"title",isLoading:[2,"isLoading","isLoading",o],isSelected:[2,"isSelected","isSelected",o],isDisabled:[2,"isDisabled","isDisabled",o],isMatched:[2,"isMatched","isMatched",o],isExpanded:[2,"isExpanded","isExpanded",o],isLeaf:[2,"isLeaf","isLeaf",o],isChecked:[2,"isChecked","isChecked",o],isHalfChecked:[2,"isHalfChecked","isHalfChecked",o],isDisableCheckbox:[2,"isDisableCheckbox","isDisableCheckbox",o],isSelectable:[2,"isSelectable","isSelectable",o],canHide:[2,"canHide","canHide",o],isStart:"isStart",isEnd:"isEnd",nzTreeNode:"nzTreeNode",nzShowLine:[2,"nzShowLine","nzShowLine",o],nzShowExpand:[2,"nzShowExpand","nzShowExpand",o],nzCheckable:[2,"nzCheckable","nzCheckable",o],nzAsyncData:[2,"nzAsyncData","nzAsyncData",o],nzHideUnMatched:[2,"nzHideUnMatched","nzHideUnMatched",o],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",o],nzSelectMode:[2,"nzSelectMode","nzSelectMode",o],nzShowIcon:[2,"nzShowIcon","nzShowIcon",o],nzExpandedIcon:"nzExpandedIcon",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzSearchValue:"nzSearchValue",nzDraggable:[2,"nzDraggable","nzDraggable",o]},outputs:{nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTreeBuiltinNode"],standalone:!0,features:[b,E,D],attrs:Ue,decls:4,vars:22,consts:[[3,"nzTreeLevel","nzSelectMode","nzIsStart","nzIsEnd"],[3,"nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading"],["builtin","",3,"nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox"],[3,"dblclick","click","contextmenu","icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","searchValue","treeTemplate","draggable","showIcon","selectMode","context","showIndicator","dragPosition"],[3,"click","nzShowExpand","nzShowLine","nzExpandedIcon","nzSelectMode","context","isLeaf","isExpanded","isLoading"],["builtin","",3,"click","nzSelectMode","isChecked","isHalfChecked","isDisabled","isDisableCheckbox"]],template:function(t,n){t&1&&(S(0,"nz-tree-indent",0),f(1,Nt,1,8,"nz-tree-node-switcher",1)(2,_t,1,5,"nz-tree-node-checkbox",2),N(3,"nz-tree-node-title",3),O("dblclick",function(a){return n.dblClick(a)})("click",function(a){return n.clickSelect(a)})("contextmenu",function(a){return n.contextMenu(a)}),_()),t&2&&(h("nzTreeLevel",n.nzTreeNode.level)("nzSelectMode",n.nzSelectMode)("nzIsStart",n.isStart)("nzIsEnd",n.isEnd),p(),k(n.nzShowExpand?1:-1),p(),k(n.nzCheckable?2:-1),p(),h("icon",n.icon)("title",n.title)("isLoading",n.isLoading)("isSelected",n.isSelected)("isDisabled",n.isDisabled)("isMatched",n.isMatched)("isExpanded",n.isExpanded)("isLeaf",n.isLeaf)("searchValue",n.nzSearchValue)("treeTemplate",n.nzTreeTemplate)("draggable",n.nzDraggable)("showIcon",n.nzShowIcon)("selectMode",n.nzSelectMode)("context",n.nzTreeNode)("showIndicator",n.showIndicator)("dragPosition",n.dragPos))},dependencies:[Mt,Ge,Ot,Qe],encapsulation:2,changeDetection:0})}}return i})(),We=(()=>{class i extends w{constructor(){super()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=A({token:i,factory:i.\u0275fac})}}return i})();function It(){let i=M($e,{skipSelf:!0,optional:!0}),s=M(We);return i??s}var Vt="tree",Ht=(()=>{class i extends W{writeValue(e){this.handleNzData(e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}renderTreeProperties(e){let t=!1,n=!1,{nzData:r,nzExpandedKeys:a,nzSelectedKeys:d,nzCheckedKeys:g,nzCheckStrictly:L,nzExpandAll:V,nzMultiple:y,nzSearchValue:Y}=e;V&&(t=!0,n=this.nzExpandAll),y&&(this.nzTreeService.isMultiple=this.nzMultiple),L&&(this.nzTreeService.isCheckStrictly=this.nzCheckStrictly),r&&this.handleNzData(this.nzData),g&&this.handleCheckedKeys(this.nzCheckedKeys),L&&this.handleCheckedKeys(null),(a||V)&&(t=!0,this.handleExpandedKeys(n||this.nzExpandedKeys)),d&&this.handleSelectedKeys(this.nzSelectedKeys,this.nzMultiple),Y&&(Y.firstChange&&!this.nzSearchValue||(t=!1,this.handleSearchValue(Y.currentValue,this.nzSearchFunc),this.nzSearchValueChange.emit(this.nzTreeService.formatEvent("search",null,null))));let Ye=this.getExpandedNodeList().map(Xe=>Xe.key),qe=t?n||this.nzExpandedKeys:Ye;this.handleFlattenNodes(this.nzTreeService.rootNodes,qe)}trackByFlattenNode(e,t){return t.key}handleNzData(e){if(Array.isArray(e)){let t=this.coerceTreeNodes(e);this.nzTreeService.initTree(t)}}handleFlattenNodes(e,t=[]){this.nzTreeService.flattenTreeData(e,t)}handleCheckedKeys(e){this.nzTreeService.conductCheck(e,this.nzCheckStrictly)}handleExpandedKeys(e=[]){this.nzTreeService.conductExpandedKeys(e)}handleSelectedKeys(e,t){this.nzTreeService.conductSelectedKeys(e,t)}handleSearchValue(e,t){let n=ce(this.nzTreeService.rootNodes,!0).map(a=>a.data),r=a=>t?t(a.origin):!(!e||!a.title.toLowerCase().includes(e.toLowerCase()));n.forEach(a=>{a.isMatched=r(a),a.canHide=!a.isMatched,a.isMatched?this.nzTreeService.expandNodeAllParentBySearch(a):(a.setExpanded(!1),this.nzTreeService.setExpandedNodeList(a)),this.nzTreeService.setMatchedNodeList(a)})}eventTriggerChanged(e){let t=e.node;switch(e.eventName){case"expand":this.renderTree(),this.nzExpandChange.emit(e);break;case"click":this.nzClick.emit(e);break;case"dblclick":this.nzDblClick.emit(e);break;case"contextmenu":this.nzContextMenu.emit(e);break;case"check":this.nzTreeService.setCheckedNodeList(t),this.nzCheckStrictly||this.nzTreeService.conduct(t);let n=this.nzTreeService.formatEvent("check",t,e.event);this.nzCheckBoxChange.emit(n);let r=this.nzTreeService.getCheckedNodeKeys();this.nzCheckedKeysChange.emit(r);break;case"dragstart":t.isExpanded&&(t.setExpanded(!t.isExpanded),this.renderTree()),this.nzOnDragStart.emit(e);break;case"dragenter":let a=this.nzTreeService.getSelectedNode();a&&a.key!==t.key&&!t.isExpanded&&!t.isLeaf&&(t.setExpanded(!0),this.renderTree()),this.nzOnDragEnter.emit(e);break;case"dragover":this.nzOnDragOver.emit(e);break;case"dragleave":this.nzOnDragLeave.emit(e);break;case"dragend":this.nzOnDragEnd.emit(e);break;case"drop":this.renderTree(),this.nzOnDrop.emit(e);break}}renderTree(){this.handleFlattenNodes(this.nzTreeService.rootNodes,this.getExpandedNodeList().map(e=>e.key)),this.cdr.markForCheck()}constructor(e,t,n,r){super(e),this.nzConfigService=t,this.cdr=n,this.directionality=r,this._nzModuleName=Vt,this.nzShowIcon=!1,this.nzHideUnMatched=!1,this.nzBlockNode=!1,this.nzExpandAll=!1,this.nzSelectMode=!1,this.nzCheckStrictly=!1,this.nzShowExpand=!0,this.nzShowLine=!1,this.nzCheckable=!1,this.nzAsyncData=!1,this.nzDraggable=!1,this.nzMultiple=!1,this.nzVirtualItemSize=28,this.nzVirtualMaxBufferPx=500,this.nzVirtualMinBufferPx=28,this.nzVirtualHeight=null,this.nzData=[],this.nzExpandedKeys=[],this.nzSelectedKeys=[],this.nzCheckedKeys=[],this.nzSearchValue="",this.nzFlattenNodes=[],this.beforeInit=!0,this.dir="ltr",this.nzExpandedKeysChange=new l,this.nzSelectedKeysChange=new l,this.nzCheckedKeysChange=new l,this.nzSearchValueChange=new l,this.nzClick=new l,this.nzDblClick=new l,this.nzContextMenu=new l,this.nzCheckBoxChange=new l,this.nzExpandChange=new l,this.nzOnDragStart=new l,this.nzOnDragEnter=new l,this.nzOnDragOver=new l,this.nzOnDragLeave=new l,this.nzOnDrop=new l,this.nzOnDragEnd=new l,this.HIDDEN_STYLE={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},this.HIDDEN_NODE_STYLE={position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden"},this.destroy$=new H,this.onChange=()=>null,this.onTouched=()=>null,this.noAnimation=M(Q,{host:!0,optional:!0})}ngOnInit(){this.nzTreeService.flattenNodes$.pipe(T(this.destroy$)).subscribe(e=>{this.nzFlattenNodes=this.nzVirtualHeight&&this.nzHideUnMatched&&this.nzSearchValue?.length>0?e.filter(t=>!t.canHide):e,this.cdr.markForCheck()}),this.dir=this.directionality.value,this.directionality.change?.pipe(T(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()})}ngOnChanges(e){this.renderTreeProperties(e)}ngAfterViewInit(){this.beforeInit=!1}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static{this.\u0275fac=function(t){return new(t||i)(m(w),m(Me),m(I),m(Oe))}}static{this.\u0275cmp=v({type:i,selectors:[["nz-tree"]],contentQueries:function(t,n,r){if(t&1&&Te(r,Tt,7),t&2){let a;te(a=ne())&&(n.nzTreeTemplateChild=a.first)}},viewQuery:function(t,n){if(t&1&&xe(G,5,G),t&2){let r;te(r=ne())&&(n.cdkVirtualScrollViewport=r.first)}},hostVars:20,hostBindings:function(t,n){t&2&&z("ant-select-tree",n.nzSelectMode)("ant-select-tree-show-line",n.nzSelectMode&&n.nzShowLine)("ant-select-tree-icon-hide",n.nzSelectMode&&!n.nzShowIcon)("ant-select-tree-block-node",n.nzSelectMode&&n.nzBlockNode)("ant-tree",!n.nzSelectMode)("ant-tree-rtl",n.dir==="rtl")("ant-tree-show-line",!n.nzSelectMode&&n.nzShowLine)("ant-tree-icon-hide",!n.nzSelectMode&&!n.nzShowIcon)("ant-tree-block-node",!n.nzSelectMode&&n.nzBlockNode)("draggable-tree",n.nzDraggable)},inputs:{nzShowIcon:[2,"nzShowIcon","nzShowIcon",o],nzHideUnMatched:[2,"nzHideUnMatched","nzHideUnMatched",o],nzBlockNode:[2,"nzBlockNode","nzBlockNode",o],nzExpandAll:[2,"nzExpandAll","nzExpandAll",o],nzSelectMode:[2,"nzSelectMode","nzSelectMode",o],nzCheckStrictly:[2,"nzCheckStrictly","nzCheckStrictly",o],nzShowExpand:[2,"nzShowExpand","nzShowExpand",o],nzShowLine:[2,"nzShowLine","nzShowLine",o],nzCheckable:[2,"nzCheckable","nzCheckable",o],nzAsyncData:[2,"nzAsyncData","nzAsyncData",o],nzDraggable:[2,"nzDraggable","nzDraggable",o],nzMultiple:[2,"nzMultiple","nzMultiple",o],nzExpandedIcon:"nzExpandedIcon",nzVirtualItemSize:"nzVirtualItemSize",nzVirtualMaxBufferPx:"nzVirtualMaxBufferPx",nzVirtualMinBufferPx:"nzVirtualMinBufferPx",nzVirtualHeight:"nzVirtualHeight",nzTreeTemplate:"nzTreeTemplate",nzBeforeDrop:"nzBeforeDrop",nzData:"nzData",nzExpandedKeys:"nzExpandedKeys",nzSelectedKeys:"nzSelectedKeys",nzCheckedKeys:"nzCheckedKeys",nzSearchValue:"nzSearchValue",nzSearchFunc:"nzSearchFunc"},outputs:{nzExpandedKeysChange:"nzExpandedKeysChange",nzSelectedKeysChange:"nzSelectedKeysChange",nzCheckedKeysChange:"nzCheckedKeysChange",nzSearchValueChange:"nzSearchValueChange",nzClick:"nzClick",nzDblClick:"nzDblClick",nzContextMenu:"nzContextMenu",nzCheckBoxChange:"nzCheckBoxChange",nzExpandChange:"nzExpandChange",nzOnDragStart:"nzOnDragStart",nzOnDragEnter:"nzOnDragEnter",nzOnDragOver:"nzOnDragOver",nzOnDragLeave:"nzOnDragLeave",nzOnDrop:"nzOnDrop",nzOnDragEnd:"nzOnDragEnd"},exportAs:["nzTree"],standalone:!0,features:[ve([We,{provide:w,useFactory:It},{provide:Le,useExisting:pe(()=>i),multi:!0}]),b,me,E,D],decls:10,vars:5,consts:[["nodeTemplate",""],[3,"ngStyle"],[1,"ant-tree-treenode",3,"ngStyle"],[1,"ant-tree-indent"],[1,"ant-tree-indent-unit"],[1,"ant-tree-list",2,"position","relative"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","itemSize","minBufferPx","maxBufferPx","height"],[3,"ant-select-tree-list-holder-inner","ant-tree-list-holder-inner","nzNoAnimation"],[3,"itemSize","minBufferPx","maxBufferPx"],[4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTrackBy"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"nzNoAnimation"],["builtin","",3,"nzExpandChange","nzClick","nzDblClick","nzContextMenu","nzCheckBoxChange","nzOnDragStart","nzOnDragEnter","nzOnDragOver","nzOnDragLeave","nzOnDragEnd","nzOnDrop","icon","title","isLoading","isSelected","isDisabled","isMatched","isExpanded","isLeaf","isStart","isEnd","isChecked","isHalfChecked","isDisableCheckbox","isSelectable","canHide","nzTreeNode","nzSelectMode","nzShowLine","nzExpandedIcon","nzDraggable","nzCheckable","nzShowExpand","nzAsyncData","nzSearchValue","nzHideUnMatched","nzBeforeDrop","nzShowIcon","nzTreeTemplate"]],template:function(t,n){t&1&&(N(0,"div"),S(1,"input",1),_(),N(2,"div",2)(3,"div",3),S(4,"div",4),_()(),N(5,"div",5),f(6,Dt,2,11,"cdk-virtual-scroll-viewport",6)(7,Et,3,7,"div",7),_(),f(8,wt,1,28,"ng-template",null,0,be)),t&2&&(p(),h("ngStyle",n.HIDDEN_STYLE),p(),h("ngStyle",n.HIDDEN_NODE_STYLE),p(3),z("ant-select-tree-list",n.nzSelectMode),p(),k(n.nzVirtualHeight?6:7))},dependencies:[we,G,Pe,Ae,re,Q,Ze],encapsulation:2,data:{animation:[Ie]},changeDetection:0})}}return P([j()],i.prototype,"nzShowIcon",void 0),P([j()],i.prototype,"nzHideUnMatched",void 0),P([j()],i.prototype,"nzBlockNode",void 0),i})(),zn=(()=>{class i{static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275mod=F({type:i})}static{this.\u0275inj=B({imports:[Ht,Ze,Ge,Qe]})}}return i})();export{w as a,$e as b,W as c,Ht as d,zn as e};
